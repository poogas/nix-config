–°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è –ø–æ –ø—É—Ç–∏: /home/qwerty/.config/nix-config

–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π:
üìÇ ./
    üìÑ README.md
    üìÑ flake.lock
    üìÑ flake.nix
    üìÑ create_context.py
    üìÑ repo_context.txt
    üìÇ home/
        üìÑ README.md
        üìÑ home.nix
        üìÇ modules/
            üìÑ README.md
            üìÑ alacritty.nix
            üìÑ ax-shell.nix
            üìÑ git.nix
            üìÑ hypridle.nix
            üìÑ hyprland.nix
            üìÑ hyprlock.nix
            üìÑ starship.nix
            üìÑ packages.nix
            üìÑ awakened-poe-trade.nix
            üìÑ default.nix
    üìÇ system/
        üìÑ README.md
        üìÑ configuration.nix
        üìÇ core/
            üìÑ README.md
            üìÑ bluetooth.nix
            üìÑ boot.nix
            üìÑ default.nix
            üìÑ hosts.nix
            üìÑ localization.nix
            üìÑ networking.nix
            üìÑ nix.nix
            üìÑ pipewire.nix
            üìÑ security.nix
            üìÑ users.nix
            üìÑ zapret.nix
        üìÇ desktop/
            üìÑ README.md
            üìÑ default.nix
            üìÑ hyprland.nix
            üìÑ power-management.nix
            üìÑ sddm.nix
        üìÇ hardware/
            üìÑ README.md
            üìÑ all-firmware.nix
            üìÑ default.nix
            üìÑ kernel.nix
            üìÑ nvidia.nix
            üìÑ hardware-configuration.nix
        üìÇ modules/
            üìÑ README.md
            üìÑ home-manager.nix
        üìÇ overlays/
            üìÑ README.md
            üìÑ default.nix

================================================================================

–°–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–æ–≤:

--- –ù–∞—á–∏–Ω–∞–µ—Ç—Å—è —Ñ–∞–π–ª: README.md ---

# –ú–æ—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è NixOS

–≠—Ç–æ—Ç —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π —Å–æ–¥–µ—Ä–∂–∏—Ç –ø–æ–ª–Ω—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –º–æ–µ–π —Å–∏—Å—Ç–µ–º—ã NixOS, —É–ø—Ä–∞–≤–ª—è–µ–º—É—é —Å –ø–æ–º–æ—â—å—é Nix Flakes –∏ Home Manager.

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞

- **flake.nix**: –ì–ª–∞–≤–Ω—ã–π —Ñ–∞–π–ª, –æ–ø—Ä–µ–¥–µ–ª—è—é—â–∏–π –≤—Ö–æ–¥—ã (inputs) –∏ –≤—ã—Ö–æ–¥—ã (outputs) –ø—Ä–æ–µ–∫—Ç–∞. –°–æ–±–∏—Ä–∞–µ—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ö–æ—Å—Ç–∞.
- **home/**: –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Home Manager. –ó–¥–µ—Å—å –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤—Å–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ ("–¥–æ—Ç—Ñ–∞–π–ª—ã"), –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏ —Å–µ—Ä–≤–∏—Å—ã.
- **system/**: –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è NixOS. –ó–¥–µ—Å—å –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤—Å–µ –æ–±—â–µ—Å–∏—Å—Ç–µ–º–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏: —è–¥—Ä–æ, –¥—Ä–∞–π–≤–µ—Ä—ã, —Å–∏—Å—Ç–µ–º–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã, –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–µ—Ç–∏ –∏ —Ç.–¥.

--- –ó–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è —Ñ–∞–π–ª: README.md ---

--- –ù–∞—á–∏–Ω–∞–µ—Ç—Å—è —Ñ–∞–π–ª: flake.lock ---

{
  "nodes": {
    "aquamarine": {
      "inputs": {
        "hyprutils": [
          "hyprland",
          "hyprutils"
        ],
        "hyprwayland-scanner": [
          "hyprland",
          "hyprwayland-scanner"
        ],
        "nixpkgs": [
          "hyprland",
          "nixpkgs"
        ],
        "systems": [
          "hyprland",
          "systems"
        ]
      },
      "locked": {
        "lastModified": 1755946532,
        "narHash": "sha256-POePremlUY5GyA1zfbtic6XLxDaQcqHN6l+bIxdT5gc=",
        "owner": "hyprwm",
        "repo": "aquamarine",
        "rev": "81584dae2df6ac79f6b6dae0ecb7705e95129ada",
        "type": "github"
      },
      "original": {
        "owner": "hyprwm",
        "repo": "aquamarine",
        "type": "github"
      }
    },
    "awakened-poe-trade": {
      "inputs": {
        "nixpkgs": "nixpkgs"
      },
      "locked": {
        "lastModified": 1757766539,
        "narHash": "sha256-jBvG2Yk0ZIJOLvWrLA61rEKR6yMndHFdXDhUfMEBs18=",
        "owner": "poogas",
        "repo": "awakened-poe-trade-flake",
        "rev": "fb87eebbe10c3abdcf4576f8cecb052614a58d65",
        "type": "github"
      },
      "original": {
        "owner": "poogas",
        "repo": "awakened-poe-trade-flake",
        "type": "github"
      }
    },
    "ax-shell": {
      "inputs": {
        "fabric-cli": "fabric-cli",
        "fabric-gtk": "fabric-gtk",
        "flake-utils": "flake-utils_2",
        "gray": "gray",
        "nixpkgs": [
          "nixpkgs"
        ]
      },
      "locked": {
        "lastModified": 1756662017,
        "narHash": "sha256-tjHfFr23fCJKzu80ezNjQ/E8jiydtIuLbaNlyc8KcNk=",
        "owner": "poogas",
        "repo": "Ax-Shell",
        "rev": "46a19f4a9e46c9774e4b900b444ada349b002e71",
        "type": "github"
      },
      "original": {
        "owner": "poogas",
        "repo": "Ax-Shell",
        "type": "github"
      }
    },
    "fabric-cli": {
      "inputs": {
        "flake-utils": "flake-utils",
        "nixpkgs": [
          "ax-shell",
          "nixpkgs"
        ]
      },
      "locked": {
        "lastModified": 1755015251,
        "narHash": "sha256-IzZddtkHU3nC1JpFvegRDsW4/OcXK651v3i75+rOp8U=",
        "owner": "poogas",
        "repo": "fabric-cli",
        "rev": "8df2f7fdee622414ee03986cd0d7021db2d25754",
        "type": "github"
      },
      "original": {
        "owner": "poogas",
        "repo": "fabric-cli",
        "type": "github"
      }
    },
    "fabric-gtk": {
      "inputs": {
        "nixpkgs": [
          "ax-shell",
          "nixpkgs"
        ],
        "utils": "utils"
      },
      "locked": {
        "lastModified": 1755869770,
        "narHash": "sha256-3D9r87jmo6T0kSIokMrmramMfZerzFX/q3/qSXOWqKg=",
        "owner": "poogas",
        "repo": "fabric",
        "rev": "5a46820c525dec53f0c07e634d734f58bd585302",
        "type": "github"
      },
      "original": {
        "owner": "poogas",
        "repo": "fabric",
        "type": "github"
      }
    },
    "flake-compat": {
      "flake": false,
      "locked": {
        "lastModified": 1747046372,
        "narHash": "sha256-CIVLLkVgvHYbgI2UpXvIIBJ12HWgX+fjA8Xf8PUmqCY=",
        "owner": "edolstra",
        "repo": "flake-compat",
        "rev": "9100a0f413b0c601e0533d1d94ffd501ce2e7885",
        "type": "github"
      },
      "original": {
        "owner": "edolstra",
        "repo": "flake-compat",
        "type": "github"
      }
    },
    "flake-utils": {
      "inputs": {
        "systems": "systems"
      },
      "locked": {
        "lastModified": 1731533236,
        "narHash": "sha256-l0KFg5HjrsfsO/JpG+r7fRrqm12kzFHyUHqHCVpMMbI=",
        "owner": "numtide",
        "repo": "flake-utils",
        "rev": "11707dc2f618dd54ca8739b309ec4fc024de578b",
        "type": "github"
      },
      "original": {
        "owner": "numtide",
        "repo": "flake-utils",
        "type": "github"
      }
    },
    "flake-utils_2": {
      "inputs": {
        "systems": "systems_3"
      },
      "locked": {
        "lastModified": 1731533236,
        "narHash": "sha256-l0KFg5HjrsfsO/JpG+r7fRrqm12kzFHyUHqHCVpMMbI=",
        "owner": "numtide",
        "repo": "flake-utils",
        "rev": "11707dc2f618dd54ca8739b309ec4fc024de578b",
        "type": "github"
      },
      "original": {
        "owner": "numtide",
        "repo": "flake-utils",
        "type": "github"
      }
    },
    "gitignore": {
      "inputs": {
        "nixpkgs": [
          "hyprland",
          "pre-commit-hooks",
          "nixpkgs"
        ]
      },
      "locked": {
        "lastModified": 1709087332,
        "narHash": "sha256-HG2cCnktfHsKV0s4XW83gU3F57gaTljL9KNSuG6bnQs=",
        "owner": "hercules-ci",
        "repo": "gitignore.nix",
        "rev": "637db329424fd7e46cf4185293b9cc8c88c95394",
        "type": "github"
      },
      "original": {
        "owner": "hercules-ci",
        "repo": "gitignore.nix",
        "type": "github"
      }
    },
    "gray": {
      "inputs": {
        "nixpkgs": [
          "ax-shell",
          "nixpkgs"
        ]
      },
      "locked": {
        "lastModified": 1734026029,
        "narHash": "sha256-s9v9fkp+XrKqY81Z7ezxMikwcL4HHS3KvEwrrudJutw=",
        "owner": "Fabric-Development",
        "repo": "gray",
        "rev": "d5a8452c39b074ef6da25be95305a22203cf230e",
        "type": "github"
      },
      "original": {
        "owner": "Fabric-Development",
        "repo": "gray",
        "type": "github"
      }
    },
    "home-manager": {
      "inputs": {
        "nixpkgs": [
          "nixpkgs"
        ]
      },
      "locked": {
        "lastModified": 1757698511,
        "narHash": "sha256-UqHHGydF/q3jfYXCpvYLA0TWtvByOp1NwOKCUjhYmPs=",
        "owner": "nix-community",
        "repo": "home-manager",
        "rev": "a3fcc92180c7462082cd849498369591dfb20855",
        "type": "github"
      },
      "original": {
        "owner": "nix-community",
        "repo": "home-manager",
        "type": "github"
      }
    },
    "hyprcursor": {
      "inputs": {
        "hyprlang": [
          "hyprland",
          "hyprlang"
        ],
        "nixpkgs": [
          "hyprland",
          "nixpkgs"
        ],
        "systems": [
          "hyprland",
          "systems"
        ]
      },
      "locked": {
        "lastModified": 1753964049,
        "narHash": "sha256-lIqabfBY7z/OANxHoPeIrDJrFyYy9jAM4GQLzZ2feCM=",
        "owner": "hyprwm",
        "repo": "hyprcursor",
        "rev": "44e91d467bdad8dcf8bbd2ac7cf49972540980a5",
        "type": "github"
      },
      "original": {
        "owner": "hyprwm",
        "repo": "hyprcursor",
        "type": "github"
      }
    },
    "hyprgraphics": {
      "inputs": {
        "hyprutils": [
          "hyprland",
          "hyprutils"
        ],
        "nixpkgs": [
          "hyprland",
          "nixpkgs"
        ],
        "systems": [
          "hyprland",
          "systems"
        ]
      },
      "locked": {
        "lastModified": 1757542864,
        "narHash": "sha256-8i9tsVoOmLQDHJkNgzJWnmxYFGkJNsSndimYpCoqmoA=",
        "owner": "hyprwm",
        "repo": "hyprgraphics",
        "rev": "aa9d14963b94186934fd0715d9a7f0f2719e64bb",
        "type": "github"
      },
      "original": {
        "owner": "hyprwm",
        "repo": "hyprgraphics",
        "type": "github"
      }
    },
    "hyprland": {
      "inputs": {
        "aquamarine": "aquamarine",
        "hyprcursor": "hyprcursor",
        "hyprgraphics": "hyprgraphics",
        "hyprland-protocols": "hyprland-protocols",
        "hyprland-qtutils": "hyprland-qtutils",
        "hyprlang": "hyprlang",
        "hyprutils": "hyprutils",
        "hyprwayland-scanner": "hyprwayland-scanner",
        "nixpkgs": "nixpkgs_2",
        "pre-commit-hooks": "pre-commit-hooks",
        "systems": "systems_4",
        "xdph": "xdph"
      },
      "locked": {
        "lastModified": 1757718690,
        "narHash": "sha256-mX8PurO19mvSee1Ecs+w+WC8y4UaTdgCDpxk4fTXNQ4=",
        "owner": "hyprwm",
        "repo": "Hyprland",
        "rev": "adbf7c8663cfbc91fca78d3504fa8f73ce4bd23a",
        "type": "github"
      },
      "original": {
        "owner": "hyprwm",
        "repo": "Hyprland",
        "type": "github"
      }
    },
    "hyprland-protocols": {
      "inputs": {
        "nixpkgs": [
          "hyprland",
          "nixpkgs"
        ],
        "systems": [
          "hyprland",
          "systems"
        ]
      },
      "locked": {
        "lastModified": 1749046714,
        "narHash": "sha256-kymV5FMnddYGI+UjwIw8ceDjdeg7ToDVjbHCvUlhn14=",
        "owner": "hyprwm",
        "repo": "hyprland-protocols",
        "rev": "613878cb6f459c5e323aaafe1e6f388ac8a36330",
        "type": "github"
      },
      "original": {
        "owner": "hyprwm",
        "repo": "hyprland-protocols",
        "type": "github"
      }
    },
    "hyprland-qt-support": {
      "inputs": {
        "hyprlang": [
          "hyprland",
          "hyprland-qtutils",
          "hyprlang"
        ],
        "nixpkgs": [
          "hyprland",
          "hyprland-qtutils",
          "nixpkgs"
        ],
        "systems": [
          "hyprland",
          "hyprland-qtutils",
          "systems"
        ]
      },
      "locked": {
        "lastModified": 1749154592,
        "narHash": "sha256-DO7z5CeT/ddSGDEnK9mAXm1qlGL47L3VAHLlLXoCjhE=",
        "owner": "hyprwm",
        "repo": "hyprland-qt-support",
        "rev": "4c8053c3c888138a30c3a6c45c2e45f5484f2074",
        "type": "github"
      },
      "original": {
        "owner": "hyprwm",
        "repo": "hyprland-qt-support",
        "type": "github"
      }
    },
    "hyprland-qtutils": {
      "inputs": {
        "hyprland-qt-support": "hyprland-qt-support",
        "hyprlang": [
          "hyprland",
          "hyprlang"
        ],
        "hyprutils": [
          "hyprland",
          "hyprland-qtutils",
          "hyprlang",
          "hyprutils"
        ],
        "nixpkgs": [
          "hyprland",
          "nixpkgs"
        ],
        "systems": [
          "hyprland",
          "systems"
        ]
      },
      "locked": {
        "lastModified": 1757508108,
        "narHash": "sha256-bTYedtQFqqVBAh42scgX7+S3O6XKLnT6FTC6rpmyCCc=",
        "owner": "hyprwm",
        "repo": "hyprland-qtutils",
        "rev": "119bcb9aa742658107b326c50dcd24ab59b309b7",
        "type": "github"
      },
      "original": {
        "owner": "hyprwm",
        "repo": "hyprland-qtutils",
        "type": "github"
      }
    },
    "hyprlang": {
      "inputs": {
        "hyprutils": [
          "hyprland",
          "hyprutils"
        ],
        "nixpkgs": [
          "hyprland",
          "nixpkgs"
        ],
        "systems": [
          "hyprland",
          "systems"
        ]
      },
      "locked": {
        "lastModified": 1756810301,
        "narHash": "sha256-wgZ3VW4VVtjK5dr0EiK9zKdJ/SOqGIBXVG85C3LVxQA=",
        "owner": "hyprwm",
        "repo": "hyprlang",
        "rev": "3d63fb4a42c819f198deabd18c0c2c1ded1de931",
        "type": "github"
      },
      "original": {
        "owner": "hyprwm",
        "repo": "hyprlang",
        "type": "github"
      }
    },
    "hyprutils": {
      "inputs": {
        "nixpkgs": [
          "hyprland",
          "nixpkgs"
        ],
        "systems": [
          "hyprland",
          "systems"
        ]
      },
      "locked": {
        "lastModified": 1756117388,
        "narHash": "sha256-oRDel6pNl/T2tI+nc/USU9ZP9w08dxtl7hiZxa0C/Wc=",
        "owner": "hyprwm",
        "repo": "hyprutils",
        "rev": "b2ae3204845f5f2f79b4703b441252d8ad2ecfd0",
        "type": "github"
      },
      "original": {
        "owner": "hyprwm",
        "repo": "hyprutils",
        "type": "github"
      }
    },
    "hyprwayland-scanner": {
      "inputs": {
        "nixpkgs": [
          "hyprland",
          "nixpkgs"
        ],
        "systems": [
          "hyprland",
          "systems"
        ]
      },
      "locked": {
        "lastModified": 1755184602,
        "narHash": "sha256-RCBQN8xuADB0LEgaKbfRqwm6CdyopE1xIEhNc67FAbw=",
        "owner": "hyprwm",
        "repo": "hyprwayland-scanner",
        "rev": "b3b0f1f40ae09d4447c20608e5a4faf8bf3c492d",
        "type": "github"
      },
      "original": {
        "owner": "hyprwm",
        "repo": "hyprwayland-scanner",
        "type": "github"
      }
    },
    "nixpkgs": {
      "locked": {
        "lastModified": 1757487488,
        "narHash": "sha256-zwE/e7CuPJUWKdvvTCB7iunV4E/+G0lKfv4kk/5Izdg=",
        "owner": "NixOS",
        "repo": "nixpkgs",
        "rev": "ab0f3607a6c7486ea22229b92ed2d355f1482ee0",
        "type": "github"
      },
      "original": {
        "owner": "NixOS",
        "ref": "nixos-unstable",
        "repo": "nixpkgs",
        "type": "github"
      }
    },
    "nixpkgs_2": {
      "locked": {
        "lastModified": 1757487488,
        "narHash": "sha256-zwE/e7CuPJUWKdvvTCB7iunV4E/+G0lKfv4kk/5Izdg=",
        "owner": "NixOS",
        "repo": "nixpkgs",
        "rev": "ab0f3607a6c7486ea22229b92ed2d355f1482ee0",
        "type": "github"
      },
      "original": {
        "owner": "NixOS",
        "ref": "nixos-unstable",
        "repo": "nixpkgs",
        "type": "github"
      }
    },
    "nixpkgs_3": {
      "locked": {
        "lastModified": 1757487488,
        "narHash": "sha256-zwE/e7CuPJUWKdvvTCB7iunV4E/+G0lKfv4kk/5Izdg=",
        "owner": "nixos",
        "repo": "nixpkgs",
        "rev": "ab0f3607a6c7486ea22229b92ed2d355f1482ee0",
        "type": "github"
      },
      "original": {
        "owner": "nixos",
        "ref": "nixos-unstable",
        "repo": "nixpkgs",
        "type": "github"
      }
    },
    "pre-commit-hooks": {
      "inputs": {
        "flake-compat": "flake-compat",
        "gitignore": "gitignore",
        "nixpkgs": [
          "hyprland",
          "nixpkgs"
        ]
      },
      "locked": {
        "lastModified": 1757588530,
        "narHash": "sha256-tJ7A8mID3ct69n9WCvZ3PzIIl3rXTdptn/lZmqSS95U=",
        "owner": "cachix",
        "repo": "git-hooks.nix",
        "rev": "b084b2c2b6bc23e83bbfe583b03664eb0b18c411",
        "type": "github"
      },
      "original": {
        "owner": "cachix",
        "repo": "git-hooks.nix",
        "type": "github"
      }
    },
    "root": {
      "inputs": {
        "awakened-poe-trade": "awakened-poe-trade",
        "ax-shell": "ax-shell",
        "home-manager": "home-manager",
        "hyprland": "hyprland",
        "nixpkgs": "nixpkgs_3"
      }
    },
    "systems": {
      "locked": {
        "lastModified": 1681028828,
        "narHash": "sha256-Vy1rq5AaRuLzOxct8nz4T6wlgyUR7zLU309k9mBC768=",
        "owner": "nix-systems",
        "repo": "default",
        "rev": "da67096a3b9bf56a91d16901293e51ba5b49a27e",
        "type": "github"
      },
      "original": {
        "owner": "nix-systems",
        "repo": "default",
        "type": "github"
      }
    },
    "systems_2": {
      "locked": {
        "lastModified": 1681028828,
        "narHash": "sha256-Vy1rq5AaRuLzOxct8nz4T6wlgyUR7zLU309k9mBC768=",
        "owner": "nix-systems",
        "repo": "default",
        "rev": "da67096a3b9bf56a91d16901293e51ba5b49a27e",
        "type": "github"
      },
      "original": {
        "owner": "nix-systems",
        "repo": "default",
        "type": "github"
      }
    },
    "systems_3": {
      "locked": {
        "lastModified": 1681028828,
        "narHash": "sha256-Vy1rq5AaRuLzOxct8nz4T6wlgyUR7zLU309k9mBC768=",
        "owner": "nix-systems",
        "repo": "default",
        "rev": "da67096a3b9bf56a91d16901293e51ba5b49a27e",
        "type": "github"
      },
      "original": {
        "owner": "nix-systems",
        "repo": "default",
        "type": "github"
      }
    },
    "systems_4": {
      "locked": {
        "lastModified": 1689347949,
        "narHash": "sha256-12tWmuL2zgBgZkdoB6qXZsgJEH9LR3oUgpaQq2RbI80=",
        "owner": "nix-systems",
        "repo": "default-linux",
        "rev": "31732fcf5e8fea42e59c2488ad31a0e651500f68",
        "type": "github"
      },
      "original": {
        "owner": "nix-systems",
        "repo": "default-linux",
        "type": "github"
      }
    },
    "utils": {
      "inputs": {
        "systems": "systems_2"
      },
      "locked": {
        "lastModified": 1731533236,
        "narHash": "sha256-l0KFg5HjrsfsO/JpG+r7fRrqm12kzFHyUHqHCVpMMbI=",
        "owner": "numtide",
        "repo": "flake-utils",
        "rev": "11707dc2f618dd54ca8739b309ec4fc024de578b",
        "type": "github"
      },
      "original": {
        "owner": "numtide",
        "repo": "flake-utils",
        "type": "github"
      }
    },
    "xdph": {
      "inputs": {
        "hyprland-protocols": [
          "hyprland",
          "hyprland-protocols"
        ],
        "hyprlang": [
          "hyprland",
          "hyprlang"
        ],
        "hyprutils": [
          "hyprland",
          "hyprutils"
        ],
        "hyprwayland-scanner": [
          "hyprland",
          "hyprwayland-scanner"
        ],
        "nixpkgs": [
          "hyprland",
          "nixpkgs"
        ],
        "systems": [
          "hyprland",
          "systems"
        ]
      },
      "locked": {
        "lastModified": 1755354946,
        "narHash": "sha256-zdov5f/GcoLQc9qYIS1dUTqtJMeDqmBmo59PAxze6e4=",
        "owner": "hyprwm",
        "repo": "xdg-desktop-portal-hyprland",
        "rev": "a10726d6a8d0ef1a0c645378f983b6278c42eaa0",
        "type": "github"
      },
      "original": {
        "owner": "hyprwm",
        "repo": "xdg-desktop-portal-hyprland",
        "type": "github"
      }
    }
  },
  "root": "root",
  "version": 7
}

--- –ó–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è —Ñ–∞–π–ª: flake.lock ---

--- –ù–∞—á–∏–Ω–∞–µ—Ç—Å—è —Ñ–∞–π–ª: flake.nix ---

{
  # --- –û–ø–∏—Å–∞–Ω–∏–µ —Ñ–ª–µ–π–∫–∞ ---
  # –ü—Ä–æ—Å—Ç–æ–µ —Ç–µ–∫—Å—Ç–æ–≤–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Ç–æ–≥–æ, —á—Ç–æ –¥–µ–ª–∞–µ—Ç —ç—Ç–æ—Ç —Ñ–ª–µ–π–∫. –ü–æ–ª–µ–∑–Ω–æ –¥–ª—è –¥—Ä—É–≥–∏—Ö –ª—é–¥–µ–π –∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤.
  description = "NixOS configuration";

  # --- –í—Ö–æ–¥—ã (Inputs) ---
  # '–í—Ö–æ–¥—ã' ‚Äî —ç—Ç–æ –≤—Å–µ –≤–Ω–µ—à–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –Ω–∞—à–µ–π —Å–∏—Å—Ç–µ–º—ã. –ü—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ, —á—Ç–æ —ç—Ç–æ "–∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç—ã",
  # –∫–æ—Ç–æ—Ä—ã–µ –º—ã —Å–∫–∞—á–∏–≤–∞–µ–º –∏–∑ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞ –¥–ª—è –ø—Ä–∏–≥–æ—Ç–æ–≤–ª–µ–Ω–∏—è –Ω–∞—à–µ–≥–æ "–±–ª—é–¥–∞" (–æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã).
  inputs = {
    # 1. –ì–ª–∞–≤–Ω—ã–π –Ω–∞–±–æ—Ä –ø–∞–∫–µ—Ç–æ–≤ NixOS. –≠—Ç–æ —Å–∞–º—ã–π –≤–∞–∂–Ω—ã–π –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç.
    # –ú—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º –≤–µ—Ç–∫—É "nixos-unstable", —á—Ç–æ–±—ã –ø–æ–ª—É—á–∞—Ç—å —Å–∞–º—ã–µ —Å–≤–µ–∂–∏–µ –ø–∞–∫–µ—Ç—ã –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è.
    nixpkgs.url = "github:nixos/nixpkgs/nixos-unstable";

    # 2. –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ ("–¥–æ—Ç—Ñ–∞–π–ª–∞–º–∏").
    home-manager = {
      url = "github:nix-community/home-manager";
      # –≠—Ç–∞ –≤–∞–∂–Ω–∞—è —Å—Ç—Ä–æ–∫–∞ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ Home Manager –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç—É –∂–µ —Å–∞–º—É—é
      # –≤–µ—Ä—Å–∏—é nixpkgs, —á—Ç–æ –∏ –≤—Å—è –Ω–∞—à–∞ —Å–∏—Å—Ç–µ–º–∞. –≠—Ç–æ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–æ –ø—Ä–æ–±–ª–µ–º
      # —Å –Ω–µ—Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å—é –ø–∞–∫–µ—Ç–æ–≤.
      inputs.nixpkgs.follows = "nixpkgs";
    };

    # 3. –ü–∞–∫–µ—Ç –¥–ª—è –æ–∫–æ–Ω–Ω–æ–≥–æ –º–µ–Ω–µ–¥–∂–µ—Ä–∞ Hyprland, –Ω–∞–ø—Ä—è–º—É—é –æ—Ç —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤.
    # –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –Ω–∞–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–∞–º—É—é –ø–æ—Å–ª–µ–¥–Ω—é—é –≤–µ—Ä—Å–∏—é Hyprland.
    hyprland.url = "github:hyprwm/Hyprland";

    ax-shell = {
      url = "github:poogas/Ax-Shell";
      inputs.nixpkgs.follows = "nixpkgs";
    };

    awakened-poe-trade = {
      url = "github:poogas/awakened-poe-trade-flake";
    };

  };

  # --- –í—ã—Ö–æ–¥—ã (Outputs) ---
  # '–í—ã—Ö–æ–¥—ã' ‚Äî —ç—Ç–æ —Ç–æ, —á—Ç–æ –Ω–∞—à —Ñ–ª–µ–π–∫ "–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç" –∏–ª–∏ "—Å–æ–±–∏—Ä–∞–µ—Ç".
  # –í –Ω–∞—à–µ–º —Å–ª—É—á–∞–µ, –æ–Ω –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Å–∏—Å—Ç–µ–º.
  # –§—É–Ω–∫—Ü–∏—è `{ self, nixpkgs, ... }@inputs:` –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –≤—Å–µ –Ω–∞—à–∏ '–≤—Ö–æ–¥—ã' –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤.
  # `@inputs` ‚Äî —ç—Ç–æ —Ç—Ä—é–∫, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ–±—Ä–∞—Ç—å –≤—Å–µ –≤—Ö–æ–¥—ã –≤ –æ–¥–Ω—É –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `inputs`.
  outputs = { self, nixpkgs, ... }@inputs:
    # –ë–ª–æ–∫ `let...in` –ø–æ–∑–≤–æ–ª—è–µ—Ç –Ω–∞–º –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –ª–æ–∫–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ, –∫–æ—Ç–æ—Ä—ã–µ –º—ã –±—É–¥–µ–º
    # –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–∏–∂–µ. –≠—Ç–æ –ø–æ–º–æ–≥–∞–µ—Ç —Å–¥–µ–ª–∞—Ç—å –∫–æ–¥ –±–æ–ª–µ–µ —á–∏—Å—Ç—ã–º.
    let
      # --- –ù–∞—à–∞ "–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö" –∫–æ–º–ø—å—é—Ç–µ—Ä–æ–≤ ---
      # –ó–¥–µ—Å—å –º—ã –æ–ø–∏—Å—ã–≤–∞–µ–º –≤—Å–µ –∫–æ–º–ø—å—é—Ç–µ—Ä—ã, –∫–æ—Ç–æ—Ä—ã–º–∏ —É–ø—Ä–∞–≤–ª—è–µ—Ç —ç—Ç–æ—Ç —Ñ–ª–µ–π–∫.
      # –ö–ª—é—á ("qwerty") ‚Äî —ç—Ç–æ —É–Ω–∏–∫–∞–ª—å–Ω–æ–µ –∏–º—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏.
      # –ó–Ω–∞—á–µ–Ω–∏–µ ‚Äî —ç—Ç–æ –Ω–∞–±–æ—Ä –Ω–∞—Å—Ç—Ä–æ–µ–∫ –¥–ª—è —ç—Ç–æ–≥–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –∫–æ–º–ø—å—é—Ç–µ—Ä–∞.
      # –ï—Å–ª–∏ —É –≤–∞—Å –ø–æ—è–≤–∏—Ç—Å—è –Ω–æ—É—Ç–±—É–∫, –≤—ã –º–æ–∂–µ—Ç–µ –ø—Ä–æ—Å—Ç–æ –¥–æ–±–∞–≤–∏—Ç—å —Å—é–¥–∞ –Ω–æ–≤—É—é –∑–∞–ø–∏—Å—å,
      # –Ω–∞–ø—Ä–∏–º–µ—Ä, "my-laptop" = { ... };
      nix-hosts = {
        "qwerty" = {
          username = "qwerty";
          system = "x86_64-linux";
          stateVersion = "25.05";
        };
      };

      # --- –§—É–Ω–∫—Ü–∏—è-"–§–∞–±—Ä–∏–∫–∞" –¥–ª—è —Å–±–æ—Ä–∫–∏ —Å–∏—Å—Ç–µ–º—ã ---
      # –≠—Ç–æ –Ω–∞—à–∞ –≥–ª–∞–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è-–ø–æ–º–æ—â–Ω–∏–∫. –û–Ω–∞ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –∏–º—è —Ö–æ—Å—Ç–∞ (hostname) –∏ –µ–≥–æ
      # –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é (config) –∏ "—Å–æ–±–∏—Ä–∞–µ—Ç" –∏–∑ –Ω–∏—Ö –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—É—é —Å–∏—Å—Ç–µ–º—É NixOS.
      makeSystem = hostname: config:
        # –≠—Ç–æ –æ—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –∏–∑ nixpkgs, –∫–æ—Ç–æ—Ä–∞—è –∏ —Å–æ–∑–¥–∞–µ—Ç —Å–∏—Å—Ç–µ–º—É.
        nixpkgs.lib.nixosSystem {
          # –£–∫–∞–∑—ã–≤–∞–µ–º –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É —Å–∏—Å—Ç–µ–º—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, "x86_64-linux").
          system = config.system;

          # --- "–í–æ–ª—à–µ–±–Ω—ã–µ" –∞—Ä–≥—É–º–µ–Ω—Ç—ã –¥–ª—è –Ω–∞—à–∏—Ö –º–æ–¥—É–ª–µ–π ---
          # `specialArgs` ‚Äî —ç—Ç–æ –Ω–∞–±–æ—Ä –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö, –∫–æ—Ç–æ—Ä—ã–π NixOS "–ø—Ä–æ–∫–∏–Ω–µ—Ç"
          # –≤ –ö–ê–ñ–î–´–ô –Ω–∞—à –º–æ–¥—É–ª—å. –≠—Ç–æ –Ω–µ–≤–µ—Ä–æ—è—Ç–Ω–æ –º–æ—â–Ω—ã–π –º–µ—Ö–∞–Ω–∏–∑–º.
          #
          # –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å—Ç—Ä–æ–∫–∞ `{ inherit inputs hostname; } // config;`:
          # 1. `{ inherit inputs hostname; }` —Å–æ–∑–¥–∞–µ—Ç –Ω–∞–±–æ—Ä: { inputs = inputs; hostname = hostname; }
          # 2. `config` ‚Äî —ç—Ç–æ –Ω–∞–±–æ—Ä –Ω–∞—Å—Ç—Ä–æ–µ–∫ –¥–ª—è —Ö–æ—Å—Ç–∞, –Ω–∞–ø—Ä–∏–º–µ—Ä: { username = "qwerty"; system = ...; }
          # 3. –û–ø–µ—Ä–∞—Ç–æ—Ä `//` –æ–±—ä–µ–¥–∏–Ω—è–µ—Ç —ç—Ç–∏ –¥–≤–∞ –Ω–∞–±–æ—Ä–∞. –ü—Ä–∞–≤—ã–π "–ø–æ–±–µ–∂–¥–∞–µ—Ç" –≤ —Å–ª—É—á–∞–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π.
          #
          # –í –∏—Ç–æ–≥–µ –¥–ª—è —Ö–æ—Å—Ç–∞ "qwerty" `specialArgs` –±—É–¥–µ—Ç —Ä–∞–≤–µ–Ω:
          # {
          #   inputs = <...>;
          #   hostname = "qwerty";
          #   username = "qwerty";
          #   system = "x86_64-linux";
          #   stateVersion = "25.05";
          # }
          #
          # –°–∞–º–æ–µ –≥–ª–∞–≤–Ω–æ–µ: —Ç–µ–ø–µ—Ä—å –≤ –ª—é–±–æ–º –Ω–∞—à–µ–º `.nix` —Ñ–∞–π–ª–µ –≤ `modules` –º—ã –º–æ–∂–µ–º
          # –ø—Ä–æ—Å—Ç–æ –Ω–∞–ø–∏—Å–∞—Ç—å ` { username, inputs, ... }: ` –≤ —à–∞–ø–∫–µ, –∏ NixOS
          # –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–¥—Å—Ç–∞–≤–∏—Ç —Ç—É–¥–∞ –Ω—É–∂–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è!
          specialArgs = { inherit inputs hostname; } // config;

          # --- –°–ø–∏—Å–æ–∫ –º–æ–¥—É–ª–µ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ ---
          # –ó–¥–µ—Å—å –º—ã –ø–µ—Ä–µ—á–∏—Å–ª—è–µ–º –≤—Å–µ "—á–∞—Å—Ç–∏", –∏–∑ –∫–æ—Ç–æ—Ä—ã—Ö –±—É–¥–µ—Ç —Å–æ—Å—Ç–æ—è—Ç—å –Ω–∞—à–∞ —Å–∏—Å—Ç–µ–º–∞.
          # NixOS –≤–æ–∑—å–º–µ—Ç –≤—Å–µ —ç—Ç–∏ —Ñ–∞–π–ª—ã, –æ–±—ä–µ–¥–∏–Ω–∏—Ç –∏—Ö –≤ –æ–¥–Ω—É –±–æ–ª—å—à—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –∏ —Å–æ–±–µ—Ä–µ—Ç —Å–∏—Å—Ç–µ–º—É.
          modules = [
            # –û—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª —Å —Å–∏—Å—Ç–µ–º–Ω—ã–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ (NixOS).
            ./system/configuration.nix

            # –ù–∞—à –∫–∞—Å—Ç–æ–º–Ω—ã–π –º–æ–¥—É–ª—å –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ Home Manager.
	    ./system/modules/home-manager.nix
          ];
        };
    in # –ö–æ–Ω–µ—Ü –±–ª–æ–∫–∞ `let`.
    {
      # --- –ó–∞–ø—É—Å–∫ –∫–æ–Ω–≤–µ–π–µ—Ä–∞ ---
      # –ó–¥–µ—Å—å –º—ã –≥–æ–≤–æ—Ä–∏–º Nix'—É, —á—Ç–æ –Ω–∞—à —Ñ–ª–µ–π–∫ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ NixOS.
      # –§—É–Ω–∫—Ü–∏—è `lib.mapAttrs` —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ —Ü–∏–∫–ª:
      # 1. –û–Ω–∞ –±–µ—Ä–µ—Ç –Ω–∞—à—É "–±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö" `nix-hosts`.
      # 2. –î–ª—è –ö–ê–ñ–î–û–ô –∑–∞–ø–∏—Å–∏ –≤ –Ω–µ–π (–≤ –Ω–∞—à–µ–º —Å–ª—É—á–∞–µ, —Ç–æ–ª—å–∫–æ –¥–ª—è "qwerty") –æ–Ω–∞ –≤—ã–∑—ã–≤–∞–µ—Ç
      #    –Ω–∞—à—É —Ñ—É–Ω–∫—Ü–∏—é-"—Ñ–∞–±—Ä–∏–∫—É" `makeSystem`.
      # 3. –í –∏—Ç–æ–≥–µ –æ–Ω–∞ —Å–æ–∑–¥–∞–µ—Ç –Ω–∞–±–æ—Ä –≥–æ—Ç–æ–≤—ã—Ö –∫ —Å–±–æ—Ä–∫–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π.
      nixosConfigurations = nixpkgs.lib.mapAttrs makeSystem nix-hosts;
    };
}

--- –ó–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è —Ñ–∞–π–ª: flake.nix ---

--- –ù–∞—á–∏–Ω–∞–µ—Ç—Å—è —Ñ–∞–π–ª: create_context.py ---

import os

def get_repo_context(repo_path, output_file='repo_context.txt', ignore_list=None):
    """
    –°–æ–±–∏—Ä–∞–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∏ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è –≤ –æ–¥–∏–Ω —Ç–µ–∫—Å—Ç–æ–≤—ã–π —Ñ–∞–π–ª.

    :param repo_path: –ü—É—Ç—å –∫ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è.
    :param output_file: –ò–º—è —Ñ–∞–π–ª–∞ –¥–ª—è –≤—ã–≤–æ–¥–∞.
    :param ignore_list: –°–ø–∏—Å–æ–∫ —Ñ–∞–π–ª–æ–≤ –∏ –ø–∞–ø–æ–∫ –¥–ª—è –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω–∏—è.
    """
    if ignore_list is None:
        ignore_list = [
            '.git', '.vscode', '__pycache__', 'node_modules', 'dist', 'build',
            '.DS_Store', '*.pyc', '*.log', '*.tmp', '*.swp'
        ]

    with open(output_file, 'w', encoding='utf-8') as f:
        f.write(f"–°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è –ø–æ –ø—É—Ç–∏: {os.path.abspath(repo_path)}\n\n")

        # –°–Ω–∞—á–∞–ª–∞ –∑–∞–ø–∏—Å—ã–≤–∞–µ–º —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π
        f.write("–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π:\n")
        for root, dirs, files in os.walk(repo_path):
            # –ò—Å–∫–ª—é—á–∞–µ–º –ø–∞–ø–∫–∏ –∏–∑ ignore_list
            dirs[:] = [d for d in dirs if d not in ignore_list]
            
            level = root.replace(repo_path, '').count(os.sep)
            indent = ' ' * 4 * level
            f.write(f"{indent}üìÇ {os.path.basename(root)}/\n")
            
            sub_indent = ' ' * 4 * (level + 1)
            for file in files:
                if file not in ignore_list:
                    f.write(f"{sub_indent}üìÑ {file}\n")
        
        f.write("\n" + "="*80 + "\n\n")
        f.write("–°–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–æ–≤:\n\n")

        # –ó–∞—Ç–µ–º –∑–∞–ø–∏—Å—ã–≤–∞–µ–º —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –∫–∞–∂–¥–æ–≥–æ —Ñ–∞–π–ª–∞
        for root, dirs, files in os.walk(repo_path):
            # –°–Ω–æ–≤–∞ –∏—Å–∫–ª—é—á–∞–µ–º –ø–∞–ø–∫–∏
            dirs[:] = [d for d in dirs if d not in ignore_list]

            for file in files:
                if file in ignore_list:
                    continue

                file_path = os.path.join(root, file)
                relative_path = os.path.relpath(file_path, repo_path)
                
                f.write(f"--- –ù–∞—á–∏–Ω–∞–µ—Ç—Å—è —Ñ–∞–π–ª: {relative_path} ---\n\n")
                try:
                    with open(file_path, 'r', encoding='utf-8', errors='ignore') as content_file:
                        f.write(content_file.read())
                except Exception as e:
                    f.write(f"–ù–µ —É–¥–∞–ª–æ—Å—å –ø—Ä–æ—á–∏—Ç–∞—Ç—å —Ñ–∞–π–ª: {e}\n")
                f.write(f"\n--- –ó–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è —Ñ–∞–π–ª: {relative_path} ---\n\n")

    print(f"–ö–æ–Ω—Ç–µ–∫—Å—Ç —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è —É—Å–ø–µ—à–Ω–æ –∑–∞–ø–∏—Å–∞–Ω –≤ —Ñ–∞–π–ª: {output_file}")

if __name__ == '__main__':
    # –£–∫–∞–∂–∏—Ç–µ –ø—É—Ç—å –∫ –≤–∞—à–µ–º—É —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—é –∑–¥–µ—Å—å
    # –ù–∞–ø—Ä–∏–º–µ—Ä: '/Users/username/projects/my-awesome-project' –∏–ª–∏ 'C:\\Users\\username\\Documents\\my-project'
    # –ï—Å–ª–∏ —Å–∫—Ä–∏–ø—Ç –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –∫–æ—Ä–Ω–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è, –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å '.'
    path_to_repo = '.' 
    get_repo_context(path_to_repo)

--- –ó–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è —Ñ–∞–π–ª: create_context.py ---

--- –ù–∞—á–∏–Ω–∞–µ—Ç—Å—è —Ñ–∞–π–ª: repo_context.txt ---

–°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è –ø–æ –ø—É—Ç–∏: /home/qwerty/.config/nix-config

–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π:
üìÇ ./
    üìÑ README.md
    üìÑ flake.lock
    üìÑ flake.nix
    üìÑ create_context.py
    üìÑ repo_context.txt
    üìÇ home/
        üìÑ README.md
        üìÑ home.nix
        üìÇ modules/
            üìÑ README.md
            üìÑ alacritty.nix
            üìÑ ax-shell.nix
            üìÑ git.nix
            üìÑ hypridle.nix
            üìÑ hyprland.nix
            üìÑ hyprlock.nix
            üìÑ starship.nix
            üìÑ packages.nix
            üìÑ awakened-poe-trade.nix
            üìÑ default.nix
    üìÇ system/
        üìÑ README.md
        üìÑ configuration.nix
        üìÇ core/
            üìÑ README.md
            üìÑ bluetooth.nix
            üìÑ boot.nix
            üìÑ default.nix
            üìÑ hosts.nix
            üìÑ localization.nix
            üìÑ networking.nix
            üìÑ nix.nix
            üìÑ pipewire.nix
            üìÑ security.nix
            üìÑ users.nix
            üìÑ zapret.nix
        üìÇ desktop/
            üìÑ README.md
            üìÑ default.nix
            üìÑ hyprland.nix
            üìÑ power-management.nix
            üìÑ sddm.nix
        üìÇ hardware/
            üìÑ README.md
            üìÑ all-firmware.nix
            üìÑ default.nix
            üìÑ kernel.nix
            üìÑ nvidia.nix
            üìÑ hardware-configuration.nix
        üìÇ modules/
            üìÑ README.md
            üìÑ home-manager.nix
        üìÇ overlays/
            üìÑ README.md
            üìÑ default.nix

================================================================================

–°–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–æ–≤:

--- –ù–∞—á–∏–Ω–∞–µ—Ç—Å—è —Ñ–∞–π–ª: README.md ---

# –ú–æ—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è NixOS

–≠—Ç–æ—Ç —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π —Å–æ–¥–µ—Ä–∂–∏—Ç –ø–æ–ª–Ω—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –º–æ–µ–π —Å–∏—Å—Ç–µ–º—ã NixOS, —É–ø—Ä–∞–≤–ª—è–µ–º—É—é —Å –ø–æ–º–æ—â—å—é Nix Flakes –∏ Home Manager.

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞

- **flake.nix**: –ì–ª–∞–≤–Ω—ã–π —Ñ–∞–π–ª, –æ–ø—Ä–µ–¥–µ–ª—è—é—â–∏–π –≤—Ö–æ–¥—ã (inputs) –∏ –≤—ã—Ö–æ–¥—ã (outputs) –ø—Ä–æ–µ–∫—Ç–∞. –°–æ–±–∏—Ä–∞–µ—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ö–æ—Å—Ç–∞.
- **home/**: –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Home Manager. –ó–¥–µ—Å—å –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤—Å–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ ("–¥–æ—Ç—Ñ–∞–π–ª—ã"), –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏ —Å–µ—Ä–≤–∏—Å—ã.
- **system/**: –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è NixOS. –ó–¥–µ—Å—å –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤—Å–µ –æ–±—â–µ—Å–∏—Å—Ç–µ–º–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏: —è–¥—Ä–æ, –¥—Ä–∞–π–≤–µ—Ä—ã, —Å–∏—Å—Ç–µ–º–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã, –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–µ—Ç–∏ –∏ —Ç.–¥.

--- –ó–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è —Ñ–∞–π–ª: README.md ---

--- –ù–∞—á–∏–Ω–∞–µ—Ç—Å—è —Ñ–∞–π–ª: flake.lock ---

{
  "nodes": {
    "aquamarine": {
      "inputs": {
        "hyprutils": [
          "hyprland",
          "hyprutils"
        ],
        "hyprwayland-scanner": [
          "hyprland",
          "hyprwayland-scanner"
        ],
        "nixpkgs": [
          "hyprland",
          "nixpkgs"
        ],
        "systems": [
          "hyprland",
          "systems"
        ]
      },
      "locked": {
        "lastModified": 1755946532,
        "narHash": "sha256-POePremlUY5GyA1zfbtic6XLxDaQcqHN6l+bIxdT5gc=",
        "owner": "hyprwm",
        "repo": "aquamarine",
        "rev": "81584dae2df6ac79f6b6dae0ecb7705e95129ada",
        "type": "github"
      },
      "original": {
        "owner": "hyprwm",
        "repo": "aquamarine",
        "type": "github"
      }
    },
    "awakened-poe-trade": {
      "inputs": {
        "nixpkgs": "nixpkgs"
      },
      "locked": {
        "lastModified": 1757766539,
        "narHash": "sha256-jBvG2Yk0ZIJOLvWrLA61rEKR6yMndHFdXDhUfMEBs18=",
        "owner": "poogas",
        "repo": "awakened-poe-trade-flake",
        "rev": "fb87eebbe10c3abdcf4576f8cecb052614a58d65",
        "type": "github"
      },
      "original": {
        "owner": "poogas",
        "repo": "awakened-poe-trade-flake",
        "type": "github"
      }
    },
    "ax-shell": {
      "inputs": {
        "fabric-cli": "fabric-cli",
        "fabric-gtk": "fabric-gtk",
        "flake-utils": "flake-utils_2",
        "gray": "gray",
        "nixpkgs": [
          "nixpkgs"
        ]
      },
      "locked": {
        "lastModified": 1756662017,
        "narHash": "sha256-tjHfFr23fCJKzu80ezNjQ/E8jiydtIuLbaNlyc8KcNk=",
        "owner": "poogas",
        "repo": "Ax-Shell",
        "rev": "46a19f4a9e46c9774e4b900b444ada349b002e71",
        "type": "github"
      },
      "original": {
        "owner": "poogas",
        "repo": "Ax-Shell",
        "type": "github"
      }
    },
    "fabric-cli": {
      "inputs": {
        "flake-utils": "flake-utils",
        "nixpkgs": [
          "ax-shell",
          "nixpkgs"
        ]
      },
      "locked": {
        "lastModified": 1755015251,
        "narHash": "sha256-IzZddtkHU3nC1JpFvegRDsW4/OcXK651v3i75+rOp8U=",
        "owner": "poogas",
        "repo": "fabric-cli",
        "rev": "8df2f7fdee622414ee03986cd0d7021db2d25754",
        "type": "github"
      },
      "original": {
        "owner": "poogas",
        "repo": "fabric-cli",
        "type": "github"
      }
    },
    "fabric-gtk": {
      "inputs": {
        "nixpkgs": [
          "ax-shell",
          "nixpkgs"
        ],
        "utils": "utils"
      },
      "locked": {
        "lastModified": 1755869770,
        "narHash": "sha256-3D9r87jmo6T0kSIokMrmramMfZerzFX/q3/qSXOWqKg=",
        "owner": "poogas",
        "repo": "fabric",
        "rev": "5a46820c525dec53f0c07e634d734f58bd585302",
        "type": "github"
      },
      "original": {
        "owner": "poogas",
        "repo": "fabric",
        "type": "github"
      }
    },
    "flake-compat": {
      "flake": false,
      "locked": {
        "lastModified": 1747046372,
        "narHash": "sha256-CIVLLkVgvHYbgI2UpXvIIBJ12HWgX+fjA8Xf8PUmqCY=",
        "owner": "edolstra",
        "repo": "flake-compat",
        "rev": "9100a0f413b0c601e0533d1d94ffd501ce2e7885",
        "type": "github"
      },
      "original": {
        "owner": "edolstra",
        "repo": "flake-compat",
        "type": "github"
      }
    },
    "flake-utils": {
      "inputs": {
        "systems": "systems"
      },
      "locked": {
        "lastModified": 1731533236,
        "narHash": "sha256-l0KFg5HjrsfsO/JpG+r7fRrqm12kzFHyUHqHCVpMMbI=",
        "owner": "numtide",
        "repo": "flake-utils",
        "rev": "11707dc2f618dd54ca8739b309ec4fc024de578b",
        "type": "github"
      },
      "original": {
        "owner": "numtide",
        "repo": "flake-utils",
        "type": "github"
      }
    },
    "flake-utils_2": {
      "inputs": {
        "systems": "systems_3"
      },
      "locked": {
        "lastModified": 1731533236,
        "narHash": "sha256-l0KFg5HjrsfsO/JpG+r7fRrqm12kzFHyUHqHCVpMMbI=",
        "owner": "numtide",
        "repo": "flake-utils",
        "rev": "11707dc2f618dd54ca8739b309ec4fc024de578b",
        "type": "github"
      },
      "original": {
        "owner": "numtide",
        "repo": "flake-utils",
        "type": "github"
      }
    },
    "gitignore": {
      "inputs": {
        "nixpkgs": [
          "hyprland",
          "pre-commit-hooks",
          "nixpkgs"
        ]
      },
      "locked": {
        "lastModified": 1709087332,
        "narHash": "sha256-HG2cCnktfHsKV0s4XW83gU3F57gaTljL9KNSuG6bnQs=",
        "owner": "hercules-ci",
        "repo": "gitignore.nix",
        "rev": "637db329424fd7e46cf4185293b9cc8c88c95394",
        "type": "github"
      },
      "original": {
        "owner": "hercules-ci",
        "repo": "gitignore.nix",
        "type": "github"
      }
    },
    "gray": {
      "inputs": {
        "nixpkgs": [
          "ax-shell",
          "nixpkgs"
        ]
      },
      "locked": {
        "lastModified": 1734026029,
        "narHash": "sha256-s9v9fkp+XrKqY81Z7ezxMikwcL4HHS3KvEwrrudJutw=",
        "owner": "Fabric-Development",
        "repo": "gray",
        "rev": "d5a8452c39b074ef6da25be95305a22203cf230e",
        "type": "github"
      },
      "original": {
        "owner": "Fabric-Development",
        "repo": "gray",
        "type": "github"
      }
    },
    "home-manager": {
      "inputs": {
        "nixpkgs": [
          "nixpkgs"
        ]
      },
      "locked": {
        "lastModified": 1757698511,
        "narHash": "sha256-UqHHGydF/q3jfYXCpvYLA0TWtvByOp1NwOKCUjhYmPs=",
        "owner": "nix-community",
        "repo": "home-manager",
        "rev": "a3fcc92180c7462082cd849498369591dfb20855",
        "type": "github"
      },
      "original": {
        "owner": "nix-community",
        "repo": "home-manager",
        "type": "github"
      }
    },
    "hyprcursor": {
      "inputs": {
        "hyprlang": [
          "hyprland",
          "hyprlang"
        ],
        "nixpkgs": [
          "hyprland",
          "nixpkgs"
        ],
        "systems": [
          "hyprland",
          "systems"
        ]
      },
      "locked": {
        "lastModified": 1753964049,
        "narHash": "sha256-lIqabfBY7z/OANxHoPeIrDJrFyYy9jAM4GQLzZ2feCM=",
        "owner": "hyprwm",
        "repo": "hyprcursor",
        "rev": "44e91d467bdad8dcf8bbd2ac7cf49972540980a5",
        "type": "github"
      },
      "original": {
        "owner": "hyprwm",
        "repo": "hyprcursor",
        "type": "github"
      }
    },
    "hyprgraphics": {
      "inputs": {
        "hyprutils": [
          "hyprland",
          "hyprutils"
        ],
        "nixpkgs": [
          "hyprland",
          "nixpkgs"
        ],
        "systems": [
          "hyprland",
          "systems"
        ]
      },
      "locked": {
        "lastModified": 1757542864,
        "narHash": "sha256-8i9tsVoOmLQDHJkNgzJWnmxYFGkJNsSndimYpCoqmoA=",
        "owner": "hyprwm",
        "repo": "hyprgraphics",
        "rev": "aa9d14963b94186934fd0715d9a7f0f2719e64bb",
        "type": "github"
      },
      "original": {
        "owner": "hyprwm",
        "repo": "hyprgraphics",
        "type": "github"
      }
    },
    "hyprland": {
      "inputs": {
        "aquamarine": "aquamarine",
        "hyprcursor": "hyprcursor",
        "hyprgraphics": "hyprgraphics",
        "hyprland-protocols": "hyprland-protocols",
        "hyprland-qtutils": "hyprland-qtutils",
        "hyprlang": "hyprlang",
        "hyprutils": "hyprutils",
        "hyprwayland-scanner": "hyprwayland-scanner",
        "nixpkgs": "nixpkgs_2",
        "pre-commit-hooks": "pre-commit-hooks",
        "systems": "systems_4",
        "xdph": "xdph"
      },
      "locked": {
        "lastModified": 1757718690,
        "narHash": "sha256-mX8PurO19mvSee1Ecs+w+WC8y4UaTdgCDpxk4fTXNQ4=",
        "owner": "hyprwm",
        "repo": "Hyprland",
        "rev": "adbf7c8663cfbc91fca78d3504fa8f73ce4bd23a",
        "type": "github"
      },
      "original": {
        "owner": "hyprwm",
        "repo": "Hyprland",
        "type": "github"
      }
    },
    "hyprland-protocols": {
      "inputs": {
        "nixpkgs": [
          "hyprland",
          "nixpkgs"
        ],
        "systems": [
          "hyprland",
          "systems"
        ]
      },
      "locked": {
        "lastModified": 1749046714,
        "narHash": "sha256-kymV5FMnddYGI+UjwIw8ceDjdeg7ToDVjbHCvUlhn14=",
        "owner": "hyprwm",
        "repo": "hyprland-protocols",
        "rev": "613878cb6f459c5e323aaafe1e6f388ac8a36330",
        "type": "github"
      },
      "original": {
        "owner": "hyprwm",
        "repo": "hyprland-protocols",
        "type": "github"
      }
    },
    "hyprland-qt-support": {
      "inputs": {
        "hyprlang": [
          "hyprland",
          "hyprland-qtutils",
          "hyprlang"
        ],
        "nixpkgs": [
          "hyprland",
          "hyprland-qtutils",
          "nixpkgs"
        ],
        "systems": [
          "hyprland",
          "hyprland-qtutils",
          "systems"
        ]
      },
      "locked": {
        "lastModified": 1749154592,
        "narHash": "sha256-DO7z5CeT/ddSGDEnK9mAXm1qlGL47L3VAHLlLXoCjhE=",
        "owner": "hyprwm",
        "repo": "hyprland-qt-support",
        "rev": "4c8053c3c888138a30c3a6c45c2e45f5484f2074",
        "type": "github"
      },
      "original": {
        "owner": "hyprwm",
        "repo": "hyprland-qt-support",
        "type": "github"
      }
    },
    "hyprland-qtutils": {
      "inputs": {
        "hyprland-qt-support": "hyprland-qt-support",
        "hyprlang": [
          "hyprland",
          "hyprlang"
        ],
        "hyprutils": [
          "hyprland",
          "hyprland-qtutils",
          "hyprlang",
          "hyprutils"
        ],
        "nixpkgs": [
          "hyprland",
          "nixpkgs"
        ],
        "systems": [
          "hyprland",
          "systems"
        ]
      },
      "locked": {
        "lastModified": 1757508108,
        "narHash": "sha256-bTYedtQFqqVBAh42scgX7+S3O6XKLnT6FTC6rpmyCCc=",
        "owner": "hyprwm",
        "repo": "hyprland-qtutils",
        "rev": "119bcb9aa742658107b326c50dcd24ab59b309b7",
        "type": "github"
      },
      "original": {
        "owner": "hyprwm",
        "repo": "hyprland-qtutils",
        "type": "github"
      }
    },
    "hyprlang": {
      "inputs": {
        "hyprutils": [
          "hyprland",
          "hyprutils"
        ],
        "nixpkgs": [
          "hyprland",
          "nixpkgs"
        ],
        "systems": [
          "hyprland",
          "systems"
        ]
      },
      "locked": {
        "lastModified": 1756810301,
        "narHash": "sha256-wgZ3VW4VVtjK5dr0EiK9zKdJ/SOqGIBXVG85C3LVxQA=",
        "owner": "hyprwm",
        "repo": "hyprlang",
        "rev": "3d63fb4a42c819f198deabd18c0c2c1ded1de931",
        "type": "github"
      },
      "original": {
        "owner": "hyprwm",
        "repo": "hyprlang",
        "type": "github"
      }
    },
    "hyprutils": {
      "inputs": {
        "nixpkgs": [
          "hyprland",
          "nixpkgs"
        ],
        "systems": [
          "hyprland",
          "systems"
        ]
      },
      "locked": {
        "lastModified": 1756117388,
        "narHash": "sha256-oRDel6pNl/T2tI+nc/USU9ZP9w08dxtl7hiZxa0C/Wc=",
        "owner": "hyprwm",
        "repo": "hyprutils",
        "rev": "b2ae3204845f5f2f79b4703b441252d8ad2ecfd0",
        "type": "github"
      },
      "original": {
        "owner": "hyprwm",
        "repo": "hyprutils",
        "type": "github"
      }
    },
    "hyprwayland-scanner": {
      "inputs": {
        "nixpkgs": [
          "hyprland",
          "nixpkgs"
        ],
        "systems": [
          "hyprland",
          "systems"
        ]
      },
      "locked": {
        "lastModified": 1755184602,
        "narHash": "sha256-RCBQN8xuADB0LEgaKbfRqwm6CdyopE1xIEhNc67FAbw=",
        "owner": "hyprwm",
        "repo": "hyprwayland-scanner",
        "rev": "b3b0f1f40ae09d4447c20608e5a4faf8bf3c492d",
        "type": "github"
      },
      "original": {
        "owner": "hyprwm",
        "repo": "hyprwayland-scanner",
        "type": "github"
      }
    },
    "nixpkgs": {
      "locked": {
        "lastModified": 1757487488,
        "narHash": "sha256-zwE/e7CuPJUWKdvvTCB7iunV4E/+G0lKfv4kk/5Izdg=",
        "owner": "NixOS",
        "repo": "nixpkgs",
        "rev": "ab0f3607a6c7486ea22229b92ed2d355f1482ee0",
        "type": "github"
      },
      "original": {
        "owner": "NixOS",
        "ref": "nixos-unstable",
        "repo": "nixpkgs",
        "type": "github"
      }
    },
    "nixpkgs_2": {
      "locked": {
        "lastModified": 1757487488,
        "narHash": "sha256-zwE/e7CuPJUWKdvvTCB7iunV4E/+G0lKfv4kk/5Izdg=",
        "owner": "NixOS",
        "repo": "nixpkgs",
        "rev": "ab0f3607a6c7486ea22229b92ed2d355f1482ee0",
        "type": "github"
      },
      "original": {
        "owner": "NixOS",
        "ref": "nixos-unstable",
        "repo": "nixpkgs",
        "type": "github"
      }
    },
    "nixpkgs_3": {
      "locked": {
        "lastModified": 1757487488,
        "narHash": "sha256-zwE/e7CuPJUWKdvvTCB7iunV4E/+G0lKfv4kk/5Izdg=",
        "owner": "nixos",
        "repo": "nixpkgs",
        "rev": "ab0f3607a6c7486ea22229b92ed2d355f1482ee0",
        "type": "github"
      },
      "original": {
        "owner": "nixos",
        "ref": "nixos-unstable",
        "repo": "nixpkgs",
        "type": "github"
      }
    },
    "pre-commit-hooks": {
      "inputs": {
        "flake-compat": "flake-compat",
        "gitignore": "gitignore",
        "nixpkgs": [
          "hyprland",
          "nixpkgs"
        ]
      },
      "locked": {
        "lastModified": 1757588530,
        "narHash": "sha256-tJ7A8mID3ct69n9WCvZ3PzIIl3rXTdptn/lZmqSS95U=",
        "owner": "cachix",
        "repo": "git-hooks.nix",
        "rev": "b084b2c2b6bc23e83bbfe583b03664eb0b18c411",
        "type": "github"
      },
      "original": {
        "owner": "cachix",
        "repo": "git-hooks.nix",
        "type": "github"
      }
    },
    "root": {
      "inputs": {
        "awakened-poe-trade": "awakened-poe-trade",
        "ax-shell": "ax-shell",
        "home-manager": "home-manager",
        "hyprland": "hyprland",
        "nixpkgs": "nixpkgs_3"
      }
    },
    "systems": {
      "locked": {
        "lastModified": 1681028828,
        "narHash": "sha256-Vy1rq5AaRuLzOxct8nz4T6wlgyUR7zLU309k9mBC768=",
        "owner": "nix-systems",
        "repo": "default",
        "rev": "da67096a3b9bf56a91d16901293e51ba5b49a27e",
        "type": "github"
      },
      "original": {
        "owner": "nix-systems",
        "repo": "default",
        "type": "github"
      }
    },
    "systems_2": {
      "locked": {
        "lastModified": 1681028828,
        "narHash": "sha256-Vy1rq5AaRuLzOxct8nz4T6wlgyUR7zLU309k9mBC768=",
        "owner": "nix-systems",
        "repo": "default",
        "rev": "da67096a3b9bf56a91d16901293e51ba5b49a27e",
        "type": "github"
      },
      "original": {
        "owner": "nix-systems",
        "repo": "default",
        "type": "github"
      }
    },
    "systems_3": {
      "locked": {
        "lastModified": 1681028828,
        "narHash": "sha256-Vy1rq5AaRuLzOxct8nz4T6wlgyUR7zLU309k9mBC768=",
        "owner": "nix-systems",
        "repo": "default",
        "rev": "da67096a3b9bf56a91d16901293e51ba5b49a27e",
        "type": "github"
      },
      "original": {
        "owner": "nix-systems",
        "repo": "default",
        "type": "github"
      }
    },
    "systems_4": {
      "locked": {
        "lastModified": 1689347949,
        "narHash": "sha256-12tWmuL2zgBgZkdoB6qXZsgJEH9LR3oUgpaQq2RbI80=",
        "owner": "nix-systems",
        "repo": "default-linux",
        "rev": "31732fcf5e8fea42e59c2488ad31a0e651500f68",
        "type": "github"
      },
      "original": {
        "owner": "nix-systems",
        "repo": "default-linux",
        "type": "github"
      }
    },
    "utils": {
      "inputs": {
        "systems": "systems_2"
      },
      "locked": {
        "lastModified": 1731533236,
        "narHash": "sha256-l0KFg5HjrsfsO/JpG+r7fRrqm12kzFHyUHqHCVpMMbI=",
        "owner": "numtide",
        "repo": "flake-utils",
        "rev": "11707dc2f618dd54ca8739b309ec4fc024de578b",
        "type": "github"
      },
      "original": {
        "owner": "numtide",
        "repo": "flake-utils",
        "type": "github"
      }
    },
    "xdph": {
      "inputs": {
        "hyprland-protocols": [
          "hyprland",
          "hyprland-protocols"
        ],
        "hyprlang": [
          "hyprland",
          "hyprlang"
        ],
        "hyprutils": [
          "hyprland",
          "hyprutils"
        ],
        "hyprwayland-scanner": [
          "hyprland",
          "hyprwayland-scanner"
        ],
        "nixpkgs": [
          "hyprland",
          "nixpkgs"
        ],
        "systems": [
          "hyprland",
          "systems"
        ]
      },
      "locked": {
        "lastModified": 1755354946,
        "narHash": "sha256-zdov5f/GcoLQc9qYIS1dUTqtJMeDqmBmo59PAxze6e4=",
        "owner": "hyprwm",
        "repo": "xdg-desktop-portal-hyprland",
        "rev": "a10726d6a8d0ef1a0c645378f983b6278c42eaa0",
        "type": "github"
      },
      "original": {
        "owner": "hyprwm",
        "repo": "xdg-desktop-portal-hyprland",
        "type": "github"
      }
    }
  },
  "root": "root",
  "version": 7
}

--- –ó–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è —Ñ–∞–π–ª: flake.lock ---

--- –ù–∞—á–∏–Ω–∞–µ—Ç—Å—è —Ñ–∞–π–ª: flake.nix ---

{
  # --- –û–ø–∏—Å–∞–Ω–∏–µ —Ñ–ª–µ–π–∫–∞ ---
  # –ü—Ä–æ—Å—Ç–æ–µ —Ç–µ–∫—Å—Ç–æ–≤–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Ç–æ–≥–æ, —á—Ç–æ –¥–µ–ª–∞–µ—Ç —ç—Ç–æ—Ç —Ñ–ª–µ–π–∫. –ü–æ–ª–µ–∑–Ω–æ –¥–ª—è –¥—Ä—É–≥–∏—Ö –ª—é–¥–µ–π –∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤.
  description = "NixOS configuration";

  # --- –í—Ö–æ–¥—ã (Inputs) ---
  # '–í—Ö–æ–¥—ã' ‚Äî —ç—Ç–æ –≤—Å–µ –≤–Ω–µ—à–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –Ω–∞—à–µ–π —Å–∏—Å—Ç–µ–º—ã. –ü—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ, —á—Ç–æ —ç—Ç–æ "–∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç—ã",
  # –∫–æ—Ç–æ—Ä—ã–µ –º—ã —Å–∫–∞—á–∏–≤–∞–µ–º –∏–∑ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞ –¥–ª—è –ø—Ä–∏–≥–æ—Ç–æ–≤–ª–µ–Ω–∏—è –Ω–∞—à–µ–≥–æ "–±–ª—é–¥–∞" (–æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã).
  inputs = {
    # 1. –ì–ª–∞–≤–Ω—ã–π –Ω–∞–±–æ—Ä –ø–∞–∫–µ—Ç–æ–≤ NixOS. –≠—Ç–æ —Å–∞–º—ã–π –≤–∞–∂–Ω—ã–π –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç.
    # –ú—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º –≤–µ—Ç–∫—É "nixos-unstable", —á—Ç–æ–±—ã –ø–æ–ª—É—á–∞—Ç—å —Å–∞–º—ã–µ —Å–≤–µ–∂–∏–µ –ø–∞–∫–µ—Ç—ã –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è.
    nixpkgs.url = "github:nixos/nixpkgs/nixos-unstable";

    # 2. –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ ("–¥–æ—Ç—Ñ–∞–π–ª–∞–º–∏").
    home-manager = {
      url = "github:nix-community/home-manager";
      # –≠—Ç–∞ –≤–∞–∂–Ω–∞—è —Å—Ç—Ä–æ–∫–∞ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ Home Manager –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç—É –∂–µ —Å–∞–º—É—é
      # –≤–µ—Ä—Å–∏—é nixpkgs, —á—Ç–æ –∏ –≤—Å—è –Ω–∞—à–∞ —Å–∏—Å—Ç–µ–º–∞. –≠—Ç–æ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–æ –ø—Ä–æ–±–ª–µ–º
      # —Å –Ω–µ—Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å—é –ø–∞–∫–µ—Ç–æ–≤.
      inputs.nixpkgs.follows = "nixpkgs";
    };

    # 3. –ü–∞–∫–µ—Ç –¥–ª—è –æ–∫–æ–Ω–Ω–æ–≥–æ –º–µ–Ω–µ–¥–∂–µ—Ä–∞ Hyprland, –Ω–∞–ø—Ä—è–º—É—é –æ—Ç —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤.
    # –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –Ω–∞–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–∞–º—É—é –ø–æ—Å–ª–µ–¥–Ω—é—é –≤–µ—Ä—Å–∏—é Hyprland.
    hyprland.url = "github:hyprwm/Hyprland";

    ax-shell = {
      url = "github:poogas/Ax-Shell";
      inputs.nixpkgs.follows = "nixpkgs";
    };

    awakened-poe-trade = {
      url = "github:poogas/awakened-poe-trade-flake";
    };

  };

  # --- –í—ã—Ö–æ–¥—ã (Outputs) ---
  # '–í—ã—Ö–æ–¥—ã' ‚Äî —ç—Ç–æ —Ç–æ, —á—Ç–æ –Ω–∞—à —Ñ–ª–µ–π–∫ "–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç" –∏–ª–∏ "—Å–æ–±–∏—Ä–∞–µ—Ç".
  # –í –Ω–∞—à–µ–º —Å–ª—É—á–∞–µ, –æ–Ω –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Å–∏—Å—Ç–µ–º.
  # –§—É–Ω–∫—Ü–∏—è `{ self, nixpkgs, ... }@inputs:` –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –≤—Å–µ –Ω–∞—à–∏ '–≤—Ö–æ–¥—ã' –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤.
  # `@inputs` ‚Äî —ç—Ç–æ —Ç—Ä—é–∫, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ–±—Ä–∞—Ç—å –≤—Å–µ –≤—Ö–æ–¥—ã –≤ –æ–¥–Ω—É –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `inputs`.
  outputs = { self, nixpkgs, ... }@inputs:
    # –ë–ª–æ–∫ `let...in` –ø–æ–∑–≤–æ–ª—è–µ—Ç –Ω–∞–º –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –ª–æ–∫–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ, –∫–æ—Ç–æ—Ä—ã–µ –º—ã –±—É–¥–µ–º
    # –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–∏–∂–µ. –≠—Ç–æ –ø–æ–º–æ–≥–∞–µ—Ç —Å–¥–µ–ª–∞—Ç—å –∫–æ–¥ –±–æ–ª–µ–µ —á–∏—Å—Ç—ã–º.
    let
      # --- –ù–∞—à–∞ "–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö" –∫–æ–º–ø—å—é—Ç–µ—Ä–æ–≤ ---
      # –ó–¥–µ—Å—å –º—ã –æ–ø–∏—Å—ã–≤–∞–µ–º –≤—Å–µ –∫–æ–º–ø—å—é—Ç–µ—Ä—ã, –∫–æ—Ç–æ—Ä—ã–º–∏ —É–ø—Ä–∞–≤–ª—è–µ—Ç —ç—Ç–æ—Ç —Ñ–ª–µ–π–∫.
      # –ö–ª—é—á ("qwerty") ‚Äî —ç—Ç–æ —É–Ω–∏–∫–∞–ª—å–Ω–æ–µ –∏–º—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏.
      # –ó–Ω–∞—á–µ–Ω–∏–µ ‚Äî —ç—Ç–æ –Ω–∞–±–æ—Ä –Ω–∞—Å—Ç—Ä–æ–µ–∫ –¥–ª—è —ç—Ç–æ–≥–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –∫–æ–º–ø—å—é—Ç–µ—Ä–∞.
      # –ï—Å–ª–∏ —É –≤–∞—Å –ø–æ—è–≤–∏—Ç—Å—è –Ω–æ—É—Ç–±—É–∫, –≤—ã –º–æ–∂–µ—Ç–µ –ø—Ä–æ—Å—Ç–æ –¥–æ–±–∞–≤–∏—Ç—å —Å—é–¥–∞ –Ω–æ–≤—É—é –∑–∞–ø–∏—Å—å,
      # –Ω–∞–ø—Ä–∏–º–µ—Ä, "my-laptop" = { ... };
      nix-hosts = {
        "qwerty" = {
          username = "qwerty";
          system = "x86_64-linux";
          stateVersion = "25.05";
        };
      };

      # --- –§—É–Ω–∫—Ü–∏—è-"–§–∞–±—Ä–∏–∫–∞" –¥–ª—è —Å–±–æ—Ä–∫–∏ —Å–∏—Å—Ç–µ–º—ã ---
      # –≠—Ç–æ –Ω–∞—à–∞ –≥–ª–∞–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è-–ø–æ–º–æ—â–Ω–∏–∫. –û–Ω–∞ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –∏–º—è —Ö–æ—Å—Ç–∞ (hostname) –∏ –µ–≥–æ
      # –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é (config) –∏ "—Å–æ–±–∏—Ä–∞–µ—Ç" –∏–∑ –Ω–∏—Ö –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—É—é —Å–∏—Å—Ç–µ–º—É NixOS.
      makeSystem = hostname: config:
        # –≠—Ç–æ –æ—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –∏–∑ nixpkgs, –∫–æ—Ç–æ—Ä–∞—è –∏ —Å–æ–∑–¥–∞–µ—Ç —Å–∏—Å—Ç–µ–º—É.
        nixpkgs.lib.nixosSystem {
          # –£–∫–∞–∑—ã–≤–∞–µ–º –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É —Å–∏—Å—Ç–µ–º—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, "x86_64-linux").
          system = config.system;

          # --- "–í–æ–ª—à–µ–±–Ω—ã–µ" –∞—Ä–≥—É–º–µ–Ω—Ç—ã –¥–ª—è –Ω–∞—à–∏—Ö –º–æ–¥—É–ª–µ–π ---
          # `specialArgs` ‚Äî —ç—Ç–æ –Ω–∞–±–æ—Ä –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö, –∫–æ—Ç–æ—Ä—ã–π NixOS "–ø—Ä–æ–∫–∏–Ω–µ—Ç"
          # –≤ –ö–ê–ñ–î–´–ô –Ω–∞—à –º–æ–¥—É–ª—å. –≠—Ç–æ –Ω–µ–≤–µ—Ä–æ—è—Ç–Ω–æ –º–æ—â–Ω—ã–π –º–µ—Ö–∞–Ω–∏–∑–º.
          #
          # –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å—Ç—Ä–æ–∫–∞ `{ inherit inputs hostname; } // config;`:
          # 1. `{ inherit inputs hostname; }` —Å–æ–∑–¥–∞–µ—Ç –Ω–∞–±–æ—Ä: { inputs = inputs; hostname = hostname; }
          # 2. `config` ‚Äî —ç—Ç–æ –Ω–∞–±–æ—Ä –Ω–∞—Å—Ç—Ä–æ–µ–∫ –¥–ª—è —Ö–æ—Å—Ç–∞, –Ω–∞–ø—Ä–∏–º–µ—Ä: { username = "qwerty"; system = ...; }
          # 3. –û–ø–µ—Ä–∞—Ç–æ—Ä `//` –æ–±—ä–µ–¥–∏–Ω—è–µ—Ç —ç—Ç–∏ –¥–≤–∞ –Ω–∞–±–æ—Ä–∞. –ü—Ä–∞–≤—ã–π "–ø–æ–±–µ–∂–¥–∞–µ—Ç" –≤ —Å–ª—É—á–∞–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π.
          #
          # –í –∏—Ç–æ–≥–µ –¥–ª—è —Ö–æ—Å—Ç–∞ "qwerty" `specialArgs` –±—É–¥–µ—Ç —Ä–∞–≤–µ–Ω:
          # {
          #   inputs = <...>;
          #   hostname = "qwerty";
          #   username = "qwerty";
          #   system = "x86_64-linux";
          #   stateVersion = "25.05";
          # }
          #
          # –°–∞–º–æ–µ –≥–ª–∞–≤–Ω–æ–µ: —Ç–µ–ø–µ—Ä—å –≤ –ª—é–±–æ–º –Ω–∞—à–µ–º `.nix` —Ñ–∞–π–ª–µ –≤ `modules` –º—ã –º–æ–∂–µ–º
          # –ø—Ä–æ—Å—Ç–æ –Ω–∞–ø–∏—Å–∞—Ç—å ` { username, inputs, ... }: ` –≤ —à–∞–ø–∫–µ, –∏ NixOS
          # –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–¥—Å—Ç–∞–≤–∏—Ç —Ç—É–¥–∞ –Ω—É–∂–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è!
          specialArgs = { inherit inputs hostname; } // config;

          # --- –°–ø–∏—Å–æ–∫ –º–æ–¥—É–ª–µ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ ---
          # –ó–¥–µ—Å—å –º—ã –ø–µ—Ä–µ—á–∏—Å–ª—è–µ–º –≤—Å–µ "—á–∞—Å—Ç–∏", –∏–∑ –∫–æ—Ç–æ—Ä—ã—Ö –±—É–¥–µ—Ç —Å–æ—Å—Ç–æ—è—Ç—å –Ω–∞—à–∞ —Å–∏—Å—Ç–µ–º–∞.
          # NixOS –≤–æ–∑—å–º–µ—Ç –≤—Å–µ —ç—Ç–∏ —Ñ–∞–π–ª—ã, –æ–±—ä–µ–¥–∏–Ω–∏—Ç –∏—Ö –≤ –æ–¥–Ω—É –±–æ–ª—å—à—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –∏ —Å–æ–±–µ—Ä–µ—Ç —Å–∏—Å—Ç–µ–º—É.
          modules = [
            # –û—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª —Å —Å–∏—Å—Ç–µ–º–Ω—ã–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ (NixOS).
            ./system/configuration.nix

            # –ù–∞—à –∫–∞—Å—Ç–æ–º–Ω—ã–π –º–æ–¥—É–ª—å –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ Home Manager.
	    ./system/modules/home-manager.nix
          ];
        };
    in # –ö–æ–Ω–µ—Ü –±–ª–æ–∫–∞ `let`.
    {
      # --- –ó–∞–ø—É—Å–∫ –∫–æ–Ω–≤–µ–π–µ—Ä–∞ ---
      # –ó–¥–µ—Å—å –º—ã –≥–æ–≤–æ—Ä–∏–º Nix'—É, —á—Ç–æ –Ω–∞—à —Ñ–ª–µ–π–∫ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ NixOS.
      # –§—É–Ω–∫—Ü–∏—è `lib.mapAttrs` —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ —Ü–∏–∫–ª:
      # 1. –û–Ω–∞ –±–µ—Ä–µ—Ç –Ω–∞—à—É "–±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö" `nix-hosts`.
      # 2. –î–ª—è –ö–ê–ñ–î–û–ô –∑–∞–ø–∏—Å–∏ –≤ –Ω–µ–π (–≤ –Ω–∞—à–µ–º —Å–ª—É—á–∞–µ, —Ç–æ–ª—å–∫–æ –¥–ª—è "qwerty") –æ–Ω–∞ –≤—ã–∑—ã–≤–∞–µ—Ç
      #    –Ω–∞—à—É —Ñ—É–Ω–∫—Ü–∏—é-"—Ñ–∞–±—Ä–∏–∫—É" `makeSystem`.
      # 3. –í –∏—Ç–æ–≥–µ –æ–Ω–∞ —Å–æ–∑–¥–∞–µ—Ç –Ω–∞–±–æ—Ä –≥–æ—Ç–æ–≤—ã—Ö –∫ —Å–±–æ—Ä–∫–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π.
      nixosConfigurations = nixpkgs.lib.mapAttrs makeSystem nix-hosts;
    };
}

--- –ó–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è —Ñ–∞–π–ª: flake.nix ---

--- –ù–∞—á–∏–Ω–∞–µ—Ç—Å—è —Ñ–∞–π–ª: create_context.py ---

import os

def get_repo_context(repo_path, output_file='repo_context.txt', ignore_list=None):
    """
    –°–æ–±–∏—Ä–∞–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∏ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è –≤ –æ–¥–∏–Ω —Ç–µ–∫—Å—Ç–æ–≤—ã–π —Ñ–∞–π–ª.

    :param repo_path: –ü—É—Ç—å –∫ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è.
    :param output_file: –ò–º—è —Ñ–∞–π–ª–∞ –¥–ª—è –≤—ã–≤–æ–¥–∞.
    :param ignore_list: –°–ø–∏—Å–æ–∫ —Ñ–∞–π–ª–æ–≤ –∏ –ø–∞–ø–æ–∫ –¥–ª—è –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω–∏—è.
    """
    if ignore_list is None:
        ignore_list = [
            '.git', '.vscode', '__pycache__', 'node_modules', 'dist', 'build',
            '.DS_Store', '*.pyc', '*.log', '*.tmp', '*.swp'
        ]

    with open(output_file, 'w', encoding='utf-8') as f:
        f.write(f"–°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è –ø–æ –ø—É—Ç–∏: {os.path.abspath(repo_path)}\n\n")

        # –°–Ω–∞—á–∞–ª–∞ –∑–∞–ø–∏—Å—ã–≤–∞–µ–º —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π
        f.write("–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π:\n")
        for root, dirs, files in os.walk(repo_path):
            # –ò—Å–∫–ª—é—á–∞–µ–º –ø–∞–ø–∫–∏ –∏–∑ ignore_list
            dirs[:] = [d for d in dirs if d not in ignore_list]
            
            level = root.replace(repo_path, '').count(os.sep)
            indent = ' ' * 4 * level
            f.write(f"{indent}üìÇ {os.path.basename(root)}/\n")
            
            sub_indent = ' ' * 4 * (level + 1)
            for file in files:
                if file not in ignore_list:
                    f.write(f"{sub_indent}üìÑ {file}\n")
        
        f.write("\n" + "="*80 + "\n\n")
        f.write("–°–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–æ–≤:\n\n")

        # –ó–∞—Ç–µ–º –∑–∞–ø–∏—Å—ã–≤–∞–µ–º —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –∫–∞–∂–¥–æ–≥–æ —Ñ–∞–π–ª–∞
        for root, dirs, files in os.walk(repo_path):
            # –°–Ω–æ–≤–∞ –∏—Å–∫–ª—é—á–∞–µ–º –ø–∞–ø–∫–∏
            dirs[:] = [d for d in dirs if d not in ignore_list]

            for file in files:
                if file in ignore_list:
                    continue

                file_path = os.path.join(root, file)
                relative_path = os.path.relpath(file_path, repo_path)
                
                f.write(f"--- –ù–∞—á–∏–Ω–∞–µ—Ç—Å—è —Ñ–∞–π–ª: {relative_path} ---\n\n")
                try:
                    with open(file_path, 'r', encoding='utf-8', errors='ignore') as content_file:
                        f.write(content_file.read())
                except Exception as e:
                    f.write(f"–ù–µ —É–¥–∞–ª–æ—Å—å –ø—Ä–æ—á–∏—Ç–∞—Ç—å —Ñ–∞–π–ª: {e}\n")
                f.write(f"\n--- –ó–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è —Ñ–∞–π–ª: {relative_path} ---\n\n")

    print(f"–ö–æ–Ω—Ç–µ–∫—Å—Ç —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è —É—Å–ø–µ—à–Ω–æ –∑–∞–ø–∏—Å–∞–Ω –≤ —Ñ–∞–π–ª: {output_file}")

if __name__ == '__main__':
    # –£–∫–∞–∂–∏—Ç–µ –ø—É—Ç—å –∫ –≤–∞—à–µ–º—É —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—é –∑–¥–µ—Å—å
    # –ù–∞–ø—Ä–∏–º–µ—Ä: '/Users/username/projects/my-awesome-project' –∏–ª–∏ 'C:\\Users\\username\\Documents\\my-project'
    # –ï—Å–ª–∏ —Å–∫—Ä–∏–ø—Ç –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –∫–æ—Ä–Ω–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è, –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å '.'
    path_to_repo = '.' 
    get_repo_context(path_to_repo)

--- –ó–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è —Ñ–∞–π–ª: repo_context.txt ---

--- –ù–∞—á–∏–Ω–∞–µ—Ç—Å—è —Ñ–∞–π–ª: home/README.md ---

# –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è: home

–ó–¥–µ—Å—å –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è **Home Manager**. –û–Ω–∞ –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫—É—é —Å—Ä–µ–¥—É: "–¥–æ—Ç—Ñ–∞–π–ª—ã", —Ç–µ–º—ã, –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞

- **`home.nix`**: –ì–ª–∞–≤–Ω—ã–π —Ñ–∞–π–ª –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –∫–æ—Ç–æ—Ä—ã–π –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç –≤—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ –º–æ–¥—É–ª–∏.
- **`modules/`**: –ö–æ–ª–ª–µ–∫—Ü–∏—è –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –º–æ–¥—É–ª–µ–π, —Ä–∞–∑–±–∏—Ç—ã—Ö –ø–æ –ø—Ä–æ–≥—Ä–∞–º–º–∞–º –∏ –∑–∞–¥–∞—á–∞–º (git, alacritty, hyprland –∏ —Ç.–¥.).

--- –ó–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è —Ñ–∞–π–ª: home/README.md ---

--- –ù–∞—á–∏–Ω–∞–µ—Ç—Å—è —Ñ–∞–π–ª: home/home.nix ---

{ username, stateVersion, inputs, ... }:

{
  imports = [
    inputs.ax-shell.homeManagerModules.default
    inputs.awakened-poe-trade.homeManagerModules.default
    ./modules
  ];

  home.username = username;
  home.homeDirectory = "/home/${username}";
  home.stateVersion = stateVersion;
}

--- –ó–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è —Ñ–∞–π–ª: home/home.nix ---

--- –ù–∞—á–∏–Ω–∞–µ—Ç—Å—è —Ñ–∞–π–ª: home/modules/README.md ---

# –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è: home/modules

–ó–¥–µ—Å—å –∫–∞–∂–¥—ã–π —Ñ–∞–π–ª –∏–ª–∏ –≥—Ä—É–ø–ø–∞ —Ñ–∞–π–ª–æ–≤ –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫—É –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏–ª–∏ –∞—Å–ø–µ–∫—Ç–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–π —Å—Ä–µ–¥—ã —á–µ—Ä–µ–∑ Home Manager.

## –°–æ–¥–µ—Ä–∂–∏–º–æ–µ

–ö–∞–∂–¥—ã–π `.nix` —Ñ–∞–π–ª –∑–¥–µ—Å—å ‚Äî —ç—Ç–æ –º–æ–¥—É–ª—å Home Manager.
- **packages.nix**: –°–ø–∏—Å–æ–∫ –ø–∞–∫–µ—Ç–æ–≤, —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º—ã—Ö –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (`home.packages`).
- **git.nix**: –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Git (`.gitconfig`).
- **alacritty.nix**: –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Ç–µ—Ä–º–∏–Ω–∞–ª–∞ Alacritty.
- **hyprland.nix**: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Hyprland (`hyprland.conf`).
- **hyprlock.nix**, **hypridle.nix**: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–ª–æ–∫–∏—Ä–æ–≤—â–∏–∫–∞ —ç–∫—Ä–∞–Ω–∞ –∏ –¥–µ–º–æ–Ω–∞ –ø—Ä–æ—Å—Ç–æ—è.

--- –ó–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è —Ñ–∞–π–ª: home/modules/README.md ---

--- –ù–∞—á–∏–Ω–∞–µ—Ç—Å—è —Ñ–∞–π–ª: home/modules/alacritty.nix ---

{
  programs.alacritty = {
    enable = true;
    settings = {
      env.TERM = "xterm-256color";
      font = { size = 12; draw_bold_text_with_bright_colors = true; };
      scrolling.multiplier = 5;
      selection.save_to_clipboard = true;
    };
  };
}

--- –ó–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è —Ñ–∞–π–ª: home/modules/alacritty.nix ---

--- –ù–∞—á–∏–Ω–∞–µ—Ç—Å—è —Ñ–∞–π–ª: home/modules/ax-shell.nix ---

{ pkgs, ... }:

{
  programs.ax-shell = {
    # --- –ì–õ–ê–í–ù–´–ô –ü–ï–†–ï–ö–õ–Æ–ß–ê–¢–ï–õ–¨ ---
    enable = true;

    # # --- –ù–ê–°–¢–†–û–ô–ö–ò –í–ï–†–•–ù–ï–ì–û –£–†–û–í–ù–Ø ---
    # autostart = {
    #   enable = true; # –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å–∫–∞—Ç—å Ax-Shell –≤–º–µ—Å—Ç–µ —Å Hyprland
    #   logPath = "/home/qwerty/.local/state/ax-shell/main.log"; # –ü—É—Ç—å –∫ –ª–æ–≥-—Ñ–∞–π–ª—É
    # };

    # --- –ì–õ–ê–í–ù–´–ô –ë–õ–û–ö –ù–ê–°–¢–†–û–ï–ö (settings) ---
    # –í—Å–µ, —á—Ç–æ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –∑–¥–µ—Å—å, –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –≤ JSON-–∫–æ–Ω—Ñ–∏–≥ –¥–ª—è —Å–∞–º–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.
    settings = {

      # --- –û–±—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ ---
      terminalCommand = "kitty -e"; # –ö–æ–º–∞–Ω–¥–∞ –¥–ª—è –∑–∞–ø—É—Å–∫–∞ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞
      datetime12hFormat = false;   # –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å 12-—á–∞—Å–æ–≤–æ–π —Ñ–æ—Ä–º–∞—Ç –≤—Ä–µ–º–µ–Ω–∏ (true/false)
      cornersVisible = true;       # –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –¥–µ–∫–æ—Ä–∞—Ç–∏–≤–Ω—ã–µ –∑–∞–∫—Ä—É–≥–ª–µ–Ω–Ω—ã–µ —É–≥–ª—ã –ø–æ –∫—Ä–∞—è–º —ç–∫—Ä–∞–Ω–∞

      # # --- –û–±–æ–∏ –∏ –∏–∫–æ–Ω–∫–∞ –ø—Ä–æ—Ñ–∏–ª—è ---
      # wallpapersDir = "/home/qwerty/Pictures/Wallpapers"; # –ü—É—Ç—å –∫ –≤–∞—à–µ–π –ø–∞–ø–∫–µ —Å –æ–±–æ—è–º–∏
      # defaultWallpaper = /home/qwerty/Pictures/Wallpapers/default.jpg; # –ü—É—Ç—å –∫ –æ–±–æ—è–º –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
      # defaultFaceIcon = /home/qwerty/Pictures/avatar.png; # –ü–£–¢–¨ –ö –í–ê–®–ï–ô –õ–ò–ß–ù–û–ô –ò–ö–û–ù–ö–ï

      # --- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ë–∞—Ä–∞ (–≤–µ—Ä—Ö–Ω–µ–π –ø–∞–Ω–µ–ª–∏) ---
      bar = {
        position = "Top"; # "Top", "Bottom", "Left", "Right"
        centered = false; # –¶–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å –≤–∏–¥–∂–µ—Ç—ã –Ω–∞ –±–∞—Ä–µ (true/false)
        theme = "Pills";  # "Pills", "Dense", "Edge"
        
        workspace = {
          showNumber = false;         # –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –Ω–æ–º–µ—Ä–∞ —Ä–∞–±–æ—á–∏—Ö —Å—Ç–æ–ª–æ–≤ (true/false)
          useChineseNumerals = false; # –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–∏—Ç–∞–π—Å–∫–∏–µ —Ü–∏—Ñ—Ä—ã (true/false)
          hideSpecial = true;         # –°–∫—Ä—ã–≤–∞—Ç—å "—Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ" —Ä–∞–±–æ—á–∏–µ —Å—Ç–æ–ª—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, scratchpad)
        };

        metrics = {
          disks = [ "/" "/home" ]; # –°–ø–∏—Å–æ–∫ –¥–∏—Å–∫–æ–≤ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤ –≤–∏–¥–∂–µ—Ç–µ
        };

        # –í–∫–ª—é—á–µ–Ω–∏–µ/–æ—Ç–∫–ª—é—á–µ–Ω–∏–µ –≤–∏–¥–∂–µ—Ç–æ–≤ –Ω–∞ –±–∞—Ä–µ
        components = {
          button_apps = true;
          systray = true;
          control = true;
          network = true;
          button_tools = true;
          sysprofiles = true;
          button_overview = false;
          ws_container = true;
          weather = true;
          battery = true;
          metrics = true;
          language = true;
          date_time = true;
          button_power = true;
        };
      };

      # --- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –î–æ–∫–∞ (–Ω–∏–∂–Ω–µ–π –ø–∞–Ω–µ–ª–∏ —Å –∏–∫–æ–Ω–∫–∞–º–∏) ---
      dock = {
        enable = false;          # –í–∫–ª—é—á–∏—Ç—å –¥–æ–∫ (true/false)
        alwaysOccluded = false; # –î–µ—Ä–∂–∞—Ç—å –¥–æ–∫ –≤—Å–µ–≥–¥–∞ –ø–æ–¥ –æ–∫–Ω–∞–º–∏ (true/false)
        iconSize = 28;         # –†–∞–∑–º–µ—Ä –∏–∫–æ–Ω–æ–∫ –≤ –ø–∏–∫—Å–µ–ª—è—Ö
        theme = "Pills";       # "Pills", "Dense", "Edge"
      };

      # --- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ü–∞–Ω–µ–ª–µ–π (Dashboard, –õ–∞—É–Ω—á–µ—Ä –∏ —Ç.–¥.) ---
      panel = {
        theme = "Notch";  # "Notch" (–ø–æ —Ü–µ–Ω—Ç—Ä—É —Å–≤–µ—Ä—Ö—É), "Panel" (—Å–±–æ–∫—É)
        position = "Center"; # –ü–æ–∑–∏—Ü–∏—è –¥–ª—è —Ç–µ–º—ã "Panel": "Start", "Center", "End"
      };

      # --- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–π ---
      notifications = {
        position = "Bottom"; # "Top", "Bottom"
        limitedAppsHistory = [ "Spotify" "Clementine" ]; # –ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–π –∏—Å—Ç–æ—Ä–∏–µ–π
        historyIgnoredApps = [ "Hyprshot" "flameshot" ]; # –ò–≥–Ω–æ—Ä–∏—Ä—É–µ–º—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
      };

      # --- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –≤–∏–¥–∂–µ—Ç–æ–≤ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –º–µ—Ç—Ä–∏–∫ ---
      metrics = {
        # –ö–∞–∫–∏–µ –º–µ—Ç—Ä–∏–∫–∏ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –≤ –±–æ–ª—å—à–æ–º –≤–∏–¥–µ (–Ω–∞ Dashboard)
        main = {
          cpu = true;
          ram = true;
          disk = true;
          gpu = true;
        };
        # –ö–∞–∫–∏–µ –º–µ—Ç—Ä–∏–∫–∏ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –≤ –º–∞–ª–µ–Ω—å–∫–æ–º –≤–∏–¥–µ (–Ω–∞ –±–∞—Ä–µ)
        small = {
          cpu = true;
          ram = true;
          disk = true;
          gpu = true;
        };
      };

      # --- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ì–æ—Ä—è—á–∏—Ö –ö–ª–∞–≤–∏—à ---
      keybindings = {
        restart = { prefix = "SUPER ALT"; suffix = "B"; };
        axmsg = { prefix = "SUPER"; suffix = "A"; };
        dash = { prefix = "SUPER"; suffix = "D"; };
        bluetooth = { prefix = "SUPER"; suffix = "B"; };
        pins = { prefix = "SUPER"; suffix = "Q"; };
        kanban = { prefix = "SUPER"; suffix = "N"; };
        launcher = { prefix = "SUPER"; suffix = "R"; };
        tmux = { prefix = "SUPER"; suffix = "T"; };
        cliphist = { prefix = "SUPER"; suffix = "V"; };
        toolbox = { prefix = "SUPER"; suffix = "S"; };
        overview = { prefix = "SUPER"; suffix = "TAB"; };
        wallpapers = { prefix = "SUPER"; suffix = "COMMA"; };
        randwall = { prefix = "SUPER SHIFT"; suffix = "COMMA"; };
        mixer = { prefix = "SUPER"; suffix = "M"; };
        emoji = { prefix = "SUPER"; suffix = "PERIOD"; };
        power = { prefix = "SUPER"; suffix = "ESCAPE"; };
        caffeine = { prefix = "SUPER SHIFT"; suffix = "M"; };
        toggle = { prefix = "SUPER CTRL"; suffix = "B"; };
        css = { prefix = "SUPER SHIFT"; suffix = "B"; };
        restart_inspector = { prefix = "SUPER CTRL ALT"; suffix = "B"; };
      };
    };
  };
}

--- –ó–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è —Ñ–∞–π–ª: home/modules/ax-shell.nix ---

--- –ù–∞—á–∏–Ω–∞–µ—Ç—Å—è —Ñ–∞–π–ª: home/modules/git.nix ---

{ username, ... }:

{
  programs.git = {
    enable = true;
    userName = username;
    userEmail = "temp@${username}.qq";
  };
}

--- –ó–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è —Ñ–∞–π–ª: home/modules/git.nix ---

--- –ù–∞—á–∏–Ω–∞–µ—Ç—Å—è —Ñ–∞–π–ª: home/modules/hypridle.nix ---

# /etc/nixos/home-manager/modules/hypridle.nix
{ pkgs, ... }:

{
  services.hypridle = {
    enable = true;
    settings = {
      general = {
        # –¢–µ–ø–µ—Ä—å –ø—Ä–æ—Å—Ç–æ –≤—ã–∑—ã–≤–∞–µ–º hyprlock
        lock_cmd = "${pkgs.hyprlock}/bin/hyprlock";
        before_sleep_cmd = "${pkgs.hyprlock}/bin/hyprlock";
        after_sleep_cmd = "${pkgs.hyprland}/bin/hyprctl dispatch dpms on";
      };

      listener = [
        {
          timeout = 300;
          on-timeout = "${pkgs.hyprlock}/bin/hyprlock";
        }
        {
          timeout = 600;
          on-timeout = "${pkgs.hyprland}/bin/hyprctl dispatch dpms off";
          on-resume = "${pkgs.hyprland}/bin/hyprctl dispatch dpms on";
        }
      ];
    };
  };
}

--- –ó–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è —Ñ–∞–π–ª: home/modules/hypridle.nix ---

--- –ù–∞—á–∏–Ω–∞–µ—Ç—Å—è —Ñ–∞–π–ª: home/modules/hyprland.nix ---

{ pkgs, config, ... }:

{
  wayland.windowManager.hyprland = {
    enable = true;
    systemd.enable = false;

    settings = {
      env = "XCURSOR_SIZE,24";
      input = {
        kb_layout = "us,ru";
        kb_options = "grp:alt_shift_toggle";
        follow_mouse = 1;
      };
      monitor = ",3440x1440@165.00Hz,auto,auto";
      general = {
        gaps_in = 5;
        gaps_out = 20;
        border_size = 2;
        "col.active_border" = "rgba(33ccffee) rgba(00ff99ee) 45deg";
        "col.inactive_border" = "rgba(595959aa)";
        layout = "dwindle";
      };
      decoration = {
        rounding = 10;
        blur = {
          enabled = true;
          size = 3;
          passes = 1;
        };
      };
      animations.enabled = true;
      misc = {
        disable_hyprland_logo = true;
        force_default_wallpaper = 0; 
      };
      "$mainMod" = "SUPER";
      bind = config.programs.ax-shell.hyprlandBinds ++ [
        # "$mainMod, Q, exec, alacritty"
        "$mainMod, C, killactive,"
        # "$mainMod, M, exit,"
        # "$mainMod, E, exec, dolphin"
        # "$mainMod, V, togglefloating,"
        # "$mainMod, P, pseudo,"
        # "$mainMod, J, togglesplit,"
        "$mainMod, left, movefocus, l"
        "$mainMod, right, movefocus, r"
        "$mainMod, up, movefocus, u"
        "$mainMod, down, movefocus, d"
        "$mainMod, 1, workspace, 1"
        "$mainMod, 2, workspace, 2"
        "$mainMod, 3, workspace, 3"
        "$mainMod SHIFT, 1, movetoworkspace, 1"
        "$mainMod SHIFT, 2, movetoworkspace, 2"
        "$mainMod SHIFT, 3, movetoworkspace, 3"
      ];
      exec-once = config.programs.ax-shell.hyprlandExecOnce ++ [
      ];
    };
  };
}

--- –ó–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è —Ñ–∞–π–ª: home/modules/hyprland.nix ---

--- –ù–∞—á–∏–Ω–∞–µ—Ç—Å—è —Ñ–∞–π–ª: home/modules/hyprlock.nix ---

{ ... }:

{
  home.file.".config/hypr/hyprlock.conf".text = ''
    background {
        path = screenshot
        blur_passes = 3
        blur_size = 8
    }

    input-field {
        monitor =
        size = 250, 60
        outline_thickness = 2
        dots_size = 0.2 # Scale of input-field dots
        dots_spacing = 0.2 # Spacing between dots
        dots_center = true
        fade_on_empty = false
        font_color = rgb(202, 211, 245)
        inner_color = rgb(30, 30, 46)
        outer_color = rgb(137, 180, 250)
        rounding = -1
        placeholder_text = <i>Password...</i>
    }

    label {
        monitor =
        text = cmd[update:1000] echo "<b><big> $(date +"%H:%M") </big></b>"
        color = rgba(255, 255, 255, 0.8)
        font_size = 90
        position = 0, 200
        halign = center
        valign = top
    }
  '';
}

--- –ó–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è —Ñ–∞–π–ª: home/modules/hyprlock.nix ---

--- –ù–∞—á–∏–Ω–∞–µ—Ç—Å—è —Ñ–∞–π–ª: home/modules/starship.nix ---

{
  programs.starship = {
    enable = true;
    settings = {
      add_newline = false;
      aws.disabled = true;
      gcloud.disabled = true;
      line_break.disabled = true;
    };
  };
}

--- –ó–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è —Ñ–∞–π–ª: home/modules/starship.nix ---

--- –ù–∞—á–∏–Ω–∞–µ—Ç—Å—è —Ñ–∞–π–ª: home/modules/packages.nix ---

{ pkgs, ... }:

{
  home.packages = with pkgs; [
    # --- –û—Å–Ω–æ–≤–Ω—ã–µ —É—Ç–∏–ª–∏—Ç—ã –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏ ---
    unzip
    zip
    xz
    p7zip
    ripgrep
    jq
    yq-go
    eza
    fzf
    file
    which
    tree
    gnused
    gnutar
    gawk
    zstd
    gnupg

    # --- –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ ---
    neovim
    nix-output-monitor
    hugo
    glow
    btop
    # iotop
    iftop
    strace
    ltrace
    lsof
    sysstat
    lm_sensors
    ethtool
    pciutils
    usbutils

    # --- –°–µ—Ç–µ–≤—ã–µ —É—Ç–∏–ª–∏—Ç—ã ---
    mtr
    iperf3
    dnsutils
    ldns
    aria2
    socat
    nmap
    ipcalc

    # --- –ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Å GUI ---
    firefox
    telegram-desktop
    discord
    steam

    # --- –†–∞–∑–Ω–æ–µ ---
    cowsay
  ];
}

--- –ó–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è —Ñ–∞–π–ª: home/modules/packages.nix ---

--- –ù–∞—á–∏–Ω–∞–µ—Ç—Å—è —Ñ–∞–π–ª: home/modules/awakened-poe-trade.nix ---

{ ... }:

{
  programs.awakened-poe-trade = {
    enable = true;
    desktop.enable = true;
  };
}

--- –ó–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è —Ñ–∞–π–ª: home/modules/awakened-poe-trade.nix ---

--- –ù–∞—á–∏–Ω–∞–µ—Ç—Å—è —Ñ–∞–π–ª: home/modules/default.nix ---

{
  imports = [
    ./alacritty.nix
    ./git.nix
    ./hyprland.nix
    ./packages.nix
    ./starship.nix
    ./hypridle.nix
    ./hyprlock.nix
    ./ax-shell.nix
    ./awakened-poe-trade.nix
  ];
}

--- –ó–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è —Ñ–∞–π–ª: home/modules/default.nix ---

--- –ù–∞—á–∏–Ω–∞–µ—Ç—Å—è —Ñ–∞–π–ª: system/README.md ---

# –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è: system

–ó–¥–µ—Å—å –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤—Å—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è, —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω–∞—è –¥–ª—è –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã NixOS. –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ —ç—Ç–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –∫–æ –≤—Å–µ–π —Å–∏—Å—Ç–µ–º–µ –∏ –∫–æ –≤—Å–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º.

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞

- **`configuration.nix`**: –ì–ª–∞–≤–Ω—ã–π —Ñ–∞–π–ª —Å–∏—Å—Ç–µ–º–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏. –û–Ω –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç –≤—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ –º–æ–¥—É–ª–∏ –∏–∑ –ø–æ–¥–¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π.
- **`core/`**: –ë–∞–∑–æ–≤—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–∏—Å—Ç–µ–º—ã, –Ω–µ —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º.
- **`desktop/`**: –ù–∞—Å—Ç—Ä–æ–π–∫–∏, –æ—Ç–Ω–æ—Å—è—â–∏–µ—Å—è –∫ –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–æ–π —Å—Ä–µ–¥–µ (DE/WM, Display Manager –∏ —Ç.–¥.).
- **`hardware/`**: –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è, —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω–∞—è –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è (–¥—Ä–∞–π–≤–µ—Ä—ã, –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —è–¥—Ä–∞).

--- –ó–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è —Ñ–∞–π–ª: system/README.md ---

--- –ù–∞—á–∏–Ω–∞–µ—Ç—Å—è —Ñ–∞–π–ª: system/configuration.nix ---

{ config, pkgs, inputs, hostname, username, stateVersion, ... }:

{
  imports = [
    ./overlays
    ./core
    ./hardware
    ./desktop
  ];

  nixpkgs.config.allowUnfree = true;

  hardware.enableRedistributableFirmware = true;

  system.stateVersion = stateVersion;
}

--- –ó–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è —Ñ–∞–π–ª: system/configuration.nix ---

--- –ù–∞—á–∏–Ω–∞–µ—Ç—Å—è —Ñ–∞–π–ª: system/core/README.md ---

# –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è: system/core

–ó–¥–µ—Å—å —Å–æ–±—Ä–∞–Ω—ã —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω—ã–µ –º–æ–¥—É–ª–∏ NixOS, –∫–æ—Ç–æ—Ä—ã–µ –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç —è–¥—Ä–æ —Å–∏—Å—Ç–µ–º—ã. –≠—Ç–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏, –∫–∞–∫ –ø—Ä–∞–≤–∏–ª–æ, –Ω–µ –∑–∞–≤–∏—Å—è—Ç –æ—Ç –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è –∏–ª–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è.

## –°–æ–¥–µ—Ä–∂–∏–º–æ–µ

- **boot.nix**: –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∑–∞–≥—Ä—É–∑—á–∏–∫–∞ (systemd-boot).
- **hosts.nix**: –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –∑–∞–ø–∏—Å–∏ DNS.
- **localization.nix**: –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –≤—Ä–µ–º–µ–Ω–∏ –∏ —è–∑—ã–∫–∞.
- **networking.nix**: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Ç—å—é (NetworkManager).
- **nix.nix**: –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–∞–º–æ–≥–æ –ø–∞–∫–µ—Ç–Ω–æ–≥–æ –º–µ–Ω–µ–¥–∂–µ—Ä–∞ Nix (flakes, —Å–±–æ—Ä–∫–∞ –º—É—Å–æ—Ä–∞).
- **packages.nix**: –û–±—â–µ—Å–∏—Å—Ç–µ–º–Ω—ã–µ –ø–∞–∫–µ—Ç—ã –∏ —Å–µ—Ä–≤–∏—Å—ã, –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –¥–ª—è –±–∞–∑–æ–≤–æ–π —Ä–∞–±–æ—Ç—ã.
- **users.nix**: –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ –≥—Ä—É–ø–ø.
- **pipewire.nix**: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∑–≤—É–∫–æ–≤–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞ PipeWire.
- **bluetooth.nix**: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–µ—Ä–≤–∏—Å–∞ Bluetooth.

--- –ó–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è —Ñ–∞–π–ª: system/core/README.md ---

--- –ù–∞—á–∏–Ω–∞–µ—Ç—Å—è —Ñ–∞–π–ª: system/core/bluetooth.nix ---

{
  hardware.bluetooth = {
    enable = true;
    powerOnBoot = true;

    settings = {
      General = {
        Enable = "Source,Sink,Media,Socket";
        Experimental = true;
        FastConnectable = true;
      };
    };
  };
}

--- –ó–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è —Ñ–∞–π–ª: system/core/bluetooth.nix ---

--- –ù–∞—á–∏–Ω–∞–µ—Ç—Å—è —Ñ–∞–π–ª: system/core/boot.nix ---

{
  boot.loader.systemd-boot.enable = true;
  boot.loader.efi.canTouchEfiVariables = true;
  boot.loader.systemd-boot.configurationLimit = 10;
}

--- –ó–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è —Ñ–∞–π–ª: system/core/boot.nix ---

--- –ù–∞—á–∏–Ω–∞–µ—Ç—Å—è —Ñ–∞–π–ª: system/core/default.nix ---

{
  imports = [
    ./boot.nix
    ./nix.nix
    ./networking.nix
    ./bluetooth.nix
    ./localization.nix
    ./users.nix
    ./hosts.nix
    ./pipewire.nix
    ./security.nix
    ./zapret.nix
  ];
}

--- –ó–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è —Ñ–∞–π–ª: system/core/default.nix ---

--- –ù–∞—á–∏–Ω–∞–µ—Ç—Å—è —Ñ–∞–π–ª: system/core/hosts.nix ---

{ config, pkgs, ... }:
{
  networking.hosts = {
    "127.0.0.1" = [
      "localhost"
      "only-fans.uk"
      "only-fans.me"
      "onlyfans.wtf"
      "iplogger.org"
      "wl.gl"
      "ed.tc"
      "bc.ax"
      "maper.info"
      "2no.co"
      "yip.su"
      "iplis.ru"
      "ezstat.ru"
      "iplog.co"
      "grabify.org"
    ];

    "::1" = [ "ip6-localhost" ];

    "157.240.245.174" = [
      "instagram.com"
      "www.instagram.com"
      "b.i.instagram.com"
      "z-p42-chat-e2ee-ig.facebook.com"
    ];

    "3.66.189.153" = [
      "protonmail.com"
      "mail.proton.me"
    ];

    "64.233.164.198" = [
      "yt3.ggpht.com"
    ];

    "204.12.192.222" = [
      "chatgpt.com"
      "ab.chatgpt.com"
      "auth.openai.com"
      "auth0.openai.com"
      "platform.openai.com"
      "cdn.oaistatic.com"
      "files.oaiusercontent.com"
      "cdn.auth0.com"
      "tcr9i.chat.openai.com"
      "webrtc.chatgpt.com"
      "gemini.google.com"
      "aistudio.google.com"
      "generativelanguage.googleapis.com"
      "aitsandbox-pa.googleapis.com"
      "proactivebackend-pa.googleapis.com"
      "o.pki.goog"
      "labs.google"
      "notebooklm.google"
      "notebooklm.google.com"
      "copilot.microsoft.com"
      "sydney.bing.com"
      "edgeservices.bing.com"
      "api.spotify.com"
      "xpui.app.spotify.com"
      "appresolve.spotify.com"
      "login5.spotify.com"
      "login.app.spotify.com"
      "encore.scdn.co"
      "ap-gew1.spotify.com"
      "gew1-spclient.spotify.com"
      "spclient.wg.spotify.com"
      "api-partner.spotify.com"
      "aet.spotify.com"
      "www.spotify.com"
      "accounts.spotify.com"
      "open.spotify.com"
      "claude.ai"
      "www.notion.so"
      "www.canva.com"
      "www.intel.com"
      "developer.nvidia.com"
      "builds.parsec.app"
      "download.jetbrains.com"
    ];

    "204.12.192.221" = [
      "rewards.bing.com"
      "alkalimakersuite-pa.clients6.google.com"
      "assistant-s3-pa.googleapis.com"
      "www.dell.com"
      "truthsocial.com"
      "static-assets-1.truthsocial.com"
      "images.tidal.com"
      "fsu.fa.tidal.com"
    ];

    "78.40.217.193" = [
      "xsts.auth.xboxlive.com"
    ];

    "50.7.87.86" = [
      "xgpuwebf2p.gssv-play-prod.xboxlive.com"
    ];

    "50.7.87.85" = [
      "codeium.com"
    ];

    "50.7.85.221" = [
      "datalore.jetbrains.com"
    ];

    "50.7.87.83" = [
      "proxy.individual.githubcopilot.com"
    ];

    "107.150.34.100" = [
      "plugins.jetbrains.com"
    ];

    "3.160.212.81" = [
      "cdn.id.supercell.com"
    ];

    "18.172.112.81" = [
      "security.id.supercell.com"
    ];

    "3.165.113.14" = [
      "accounts.supercell.com"
    ];

    "18.66.195.96" = [
      "game-assets.clashroyaleapp.com"
    ];

    "51.158.190.98" = [
      "game.clashroyaleapp.com"
    ];

    "3.162.38.39" = [
      "game-assets.clashofclans.com"
    ];

    "70.34.251.56" = [
      "gamea.clashofclans.com"
    ];

    "108.157.194.81" = [
      "clashofclans.inbox.supercell.com"
    ];

    "179.43.168.109" = [
      "game.brawlstarsgame.com"
    ];

    "18.239.69.129" = [
      "game-assets.brawlstarsgame.com"
    ];

    "50.7.85.219" = [
      "inference.codeium.com"
      "datalore.jetbrains.com"
      "www.tiktok.com"
    ];

    "142.54.189.106" = [
      "web.archive.org"
    ];
  };
}

--- –ó–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è —Ñ–∞–π–ª: system/core/hosts.nix ---

--- –ù–∞—á–∏–Ω–∞–µ—Ç—Å—è —Ñ–∞–π–ª: system/core/localization.nix ---

{
  time.timeZone = "Europe/Volgograd";
  i18n.defaultLocale = "en_US.UTF-8";
}

--- –ó–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è —Ñ–∞–π–ª: system/core/localization.nix ---

--- –ù–∞—á–∏–Ω–∞–µ—Ç—Å—è —Ñ–∞–π–ª: system/core/networking.nix ---

{ hostname, ... }:
{
  networking.hostName = hostname;
  networking.networkmanager.enable = true;
}

--- –ó–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è —Ñ–∞–π–ª: system/core/networking.nix ---

--- –ù–∞—á–∏–Ω–∞–µ—Ç—Å—è —Ñ–∞–π–ª: system/core/nix.nix ---

{ username, ... }:

{
  nix.settings.experimental-features = ["nix-command" "flakes"];
  nix.settings.trusted-users = [ "root" username ];

  nix = {
    settings.auto-optimise-store = true;
    gc = {
      automatic = true;
      dates = "weekly";
      options = "--delete-older-than 14d";
    };
  };
}

--- –ó–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è —Ñ–∞–π–ª: system/core/nix.nix ---

--- –ù–∞—á–∏–Ω–∞–µ—Ç—Å—è —Ñ–∞–π–ª: system/core/pipewire.nix ---

{
  services.pulseaudio.enable = false;

  services.pipewire = {
    enable = true;
    alsa.enable = true;
    alsa.support32Bit = true;
    pulse.enable = true;
    jack.enable = true;

    wireplumber.extraConfig = {
      "50-bluez" = {
        "monitor.bluez.rules" = [
          {
            matches = [ { "device.name" = "~bluez_card.*"; } ];
            actions = {
              update-props = {
                "bluez5.auto-connect" = [
                  "a2dp_sink"
                  "a2dp_source"
                ];
                "bluez5.hw-volume" = [
                  "a2dp_sink"
                  "a2dp_source"
                ];
              };
            };
          }
        ];
        "monitor.bluez.properties" = {
          "bluez5.roles" = [
            "a2dp_sink"
            "a2dp_source"
          ];
          "bluez5.codecs" = [
            "sbc_xq"
            "sbc"
          ];
        };
      };
    };
  };
}

--- –ó–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è —Ñ–∞–π–ª: system/core/pipewire.nix ---

--- –ù–∞—á–∏–Ω–∞–µ—Ç—Å—è —Ñ–∞–π–ª: system/core/security.nix ---

{
  security.rtkit.enable = true;
  security.sudo.enable = true;
}

--- –ó–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è —Ñ–∞–π–ª: system/core/security.nix ---

--- –ù–∞—á–∏–Ω–∞–µ—Ç—Å—è —Ñ–∞–π–ª: system/core/users.nix ---

{ pkgs, username, ... }:

{
  users.users."${username}" = {
    isNormalUser = true;
    description = username;
    extraGroups = [ "networkmanager" "wheel" "audio" "video" ];
    shell = pkgs.bash;
  };
}

--- –ó–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è —Ñ–∞–π–ª: system/core/users.nix ---

--- –ù–∞—á–∏–Ω–∞–µ—Ç—Å—è —Ñ–∞–π–ª: system/core/zapret.nix ---

{...}: {
    services = {
        zapret = {
            enable = true;
            configureFirewall = true;
            qnum = 350;
            params = [
                "--wssize 1:6"

                "--filter-tcp=80"
                "--dpi-desync=multisplit"
                "--dpi-desync-split-pos=10"
                "--dpi-desync-repeats=6"
                "--new"

                "--filter-tcp=443"
                "--dpi-desync=multidisorder"
                "--dpi-desync-split-pos=1,midsld"
                "--new"

                "--filter-tcp=443"
                "--dpi-desync=syndata"
                "--dpi-desync-fake-syndata=0x00000000"
                "--dpi-desync-ttl=10"
                "--new"

                "--filter-udp=443"
                "--dpi-desync=fake"
                "--dpi-desync-repeats=6"
                "--dpi-desync-fake-quic=0x00000000"
                "--new"

                "--filter-udp=443"
                "--dpi-desync=fake,udplen"
                "--dpi-desync-udplen-increment=5"
                "--dpi-desync-fake-tls=0x00000000"
                "--dpi-desync-cutoff=n3"
                "--dpi-desync-repeats=2"
                "--new"

                "--filter-tcp=443"
                "--dpi-desync=split"
                "--dpi-desync-fooling=md5sig,badseq"
                "--dpi-desync-fake-tls=0x00000000"
                "--dpi-desync-split-pos=1"
                "--dpi-desync-repeats=10"
                "--new"

                "--filter-tcp=443"
                "--dpi-desync=fake,split2"
                "--dpi-desync-fooling=md5sig"
                "--dpi-desync-fake-tls=0x00000000"
                "--dpi-desync-split-seqovl=2"
                "--dpi-desync-split-pos=2"

                "--dpi-desync-autottl"
                "--new"
                "--filter-tcp=443"
                "--dpi-desync=fake,split2"
                "--dpi-desync-fooling=md5sig"
                "--dpi-desync-fake-tls=0x00000000"
                "--dpi-desync-split-seqovl=2"
                "--dpi-desync-split-pos=2"
                "--dpi-desync-autottl"
                "--new"

                "--filter-tcp=80"
                "--dpi-desync=fake,split2"
                "--dpi-desync-fooling=md5sig"
                "--dpi-desync-fake-tls=0x00000000"
                "--dpi-desync-autottl"
                "--new"

                "--filter-tcp=80"
                "--dpi-desync-ttl=1"
                "--dpi-desync-autottl=2"
                "--dpi-desync-fake-tls=0x00000000"
                "--dpi-desync-split-pos=1"
                "--dpi-desync=fake,split2"
                "--dpi-desync-repeats=6"
                "--dpi-desync-fooling=md5sig"
                "--new"
            ];

            whitelist = [
                "googlevideo.com"
                "youtu.be"
                "youtube.com"
                "youtubei.googleapis.com"
                "googlevideo.com"
                "youtu.be"
                "youtube.com"
                "youtubei.googleapis.com"
                "youtubeembeddedplayer.googleapis.com"
                "ytimg.l.google.com"
                "ytimg.com"
                "jnn-pa.googleapis.com"
                "youtube-nocookie.com"
                "youtube-ui.l.google.com"
                "yt-video-upload.l.google.com"
                "wide-youtube.l.google.com"
                "youtubekids.com"
                "ggpht.com"
                "music.youtube.com"
                "test.googlevideo.com"
                "discord.com"
                "gateway.discord.gg"
                "cdn.discordapp.com"
                "discordapp.net"
                "discordapp.com"
                "discord.gg"
                "media.discordapp.net"
                "images-ext-1.discordapp.net"
                "discord.app"
                "discord.media"
                "discordcdn.com"
                "discord.dev"
                "discord.new"
                "discord.gift"
                "discordstatus.com"
                "dis.gd"
                "discord.co"
                "discord-attachments-uploads-prd.storage.googleapis.com"
                "7tv.app"
                "7tv.io"
                "10tv.app"
                "x.com"
                "t.co"
                "ads-twitter.com"
                "twimg.com"
                "twitter.com"
                "pscp.tv"
                "twtrdns.net"
                "twttr.com"
                "periscope.tv"
                "tweetdeck.com"
                "twitpic.com"
                "twitter.co"
                "twitterinc.com"
                "twitteroauth.com"
                "twitterstat.us"
            ];
        };
    };
}

--- –ó–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è —Ñ–∞–π–ª: system/core/zapret.nix ---

--- –ù–∞—á–∏–Ω–∞–µ—Ç—Å—è —Ñ–∞–π–ª: system/desktop/README.md ---

# –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è: system/desktop

–ó–¥–µ—Å—å –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤—Å–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏, —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º (GUI).

## –°–æ–¥–µ—Ä–∂–∏–º–æ–µ

- **sddm.nix**: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –º–µ–Ω–µ–¥–∂–µ—Ä–∞ –≤—Ö–æ–¥–∞ –≤ —Å–∏—Å—Ç–µ–º—É (Display Manager).
- **hyprland.nix**: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫–æ–Ω–Ω–æ–≥–æ –º–µ–Ω–µ–¥–∂–µ—Ä–∞ Hyprland –Ω–∞ —Å–∏—Å—Ç–µ–º–Ω–æ–º —É—Ä–æ–≤–Ω–µ (–≤–∫–ª—é—á–µ–Ω–∏–µ —Å–∞–º–æ–≥–æ –ø–∞–∫–µ—Ç–∞ –∏ –ø–æ—Ä—Ç–∞–ª–∞).
- **packages.nix**: –°–∏—Å—Ç–µ–º–Ω—ã–µ –ø–∞–∫–µ—Ç—ã, –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –¥–ª—è —Ä–∞–±–æ—Ç—ã GUI-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ñ–æ—Ä–º–∞—Ç–æ–≤ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π).
- **fonts.nix** (–ø—Ä–∏–º–µ—Ä): –ó–¥–µ—Å—å –º–æ–∂–Ω–æ –±—ã–ª–æ –±—ã –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –æ–±—â–µ—Å–∏—Å—Ç–µ–º–Ω—ã–µ —à—Ä–∏—Ñ—Ç—ã.

--- –ó–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è —Ñ–∞–π–ª: system/desktop/README.md ---

--- –ù–∞—á–∏–Ω–∞–µ—Ç—Å—è —Ñ–∞–π–ª: system/desktop/default.nix ---

{
  imports = [
    ./hyprland.nix
    ./sddm.nix
    ./power-management.nix
  ];
}

--- –ó–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è —Ñ–∞–π–ª: system/desktop/default.nix ---

--- –ù–∞—á–∏–Ω–∞–µ—Ç—Å—è —Ñ–∞–π–ª: system/desktop/hyprland.nix ---

{ config, pkgs, inputs, ... }:

{
  programs.hyprland = {
    enable = true;
    package = inputs.hyprland.packages.${pkgs.stdenv.hostPlatform.system}.hyprland;
    portalPackage = inputs.hyprland.packages.${pkgs.stdenv.hostPlatform.system}.xdg-desktop-portal-hyprland;
    xwayland.enable = true;
    withUWSM = true;
  };

  environment.sessionVariables = {
    MOZ_ENABLE_WAYLAND = "1";
    WLR_NO_HARDWARE_CURSORS = "1";
  };


  environment.systemPackages = with pkgs; [
    noto-fonts
    noto-fonts-cjk-sans
    noto-fonts-emoji
  ];
}

--- –ó–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è —Ñ–∞–π–ª: system/desktop/hyprland.nix ---

--- –ù–∞—á–∏–Ω–∞–µ—Ç—Å—è —Ñ–∞–π–ª: system/desktop/power-management.nix ---

{ pkgs, ... }:

{
  services.upower.enable = true;
  services.power-profiles-daemon.enable = true;
}

--- –ó–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è —Ñ–∞–π–ª: system/desktop/power-management.nix ---

--- –ù–∞—á–∏–Ω–∞–µ—Ç—Å—è —Ñ–∞–π–ª: system/desktop/sddm.nix ---

# /etc/nixos/system/desktop/sddm.nix
{ ... }:

{
  services.displayManager.sddm = {
    enable = true;
    wayland.enable = true; # –ó–∞–ø—É—Å–∫–∞–µ–º SDDM –ø–æ–¥ Wayland
  };
}

--- –ó–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è —Ñ–∞–π–ª: system/desktop/sddm.nix ---

--- –ù–∞—á–∏–Ω–∞–µ—Ç—Å—è —Ñ–∞–π–ª: system/hardware/README.md ---

# –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è: system/hardware

–ó–¥–µ—Å—å —Å–æ–¥–µ—Ä–∂–∞—Ç—Å—è –º–æ–¥—É–ª–∏, –∫–æ—Ç–æ—Ä—ã–µ –Ω–∞–ø—Ä—è–º—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä—É—é—Ç —Ñ–∏–∑–∏—á–µ—Å–∫–æ–µ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ –∫–æ–º–ø—å—é—Ç–µ—Ä–∞.

## –°–æ–¥–µ—Ä–∂–∏–º–æ–µ

- **`hardware-configuration.nix`**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ñ–∞–π–ª –ø—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ NixOS. –°–æ–¥–µ—Ä–∂–∏—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ñ–∞–π–ª–æ–≤—ã—Ö —Å–∏—Å—Ç–µ–º–∞—Ö –∏ –º–æ–¥—É–ª—è—Ö —è–¥—Ä–∞, –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏. **–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Å –æ—Å—Ç–æ—Ä–æ–∂–Ω–æ—Å—Ç—å—é.**
- **`nvidia.nix`**: –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è –≤–∏–¥–µ–æ–∫–∞—Ä—Ç—ã NVIDIA (–¥—Ä–∞–π–≤–µ—Ä—ã, —Ä–µ–∂–∏–º—ã —Ä–∞–±–æ—Ç—ã).

--- –ó–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è —Ñ–∞–π–ª: system/hardware/README.md ---

--- –ù–∞—á–∏–Ω–∞–µ—Ç—Å—è —Ñ–∞–π–ª: system/hardware/all-firmware.nix ---

{
  hardware.enableAllFirmware = true;
}

--- –ó–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è —Ñ–∞–π–ª: system/hardware/all-firmware.nix ---

--- –ù–∞—á–∏–Ω–∞–µ—Ç—Å—è —Ñ–∞–π–ª: system/hardware/default.nix ---

{
  imports = [
    ./hardware-configuration.nix
    ./nvidia.nix
    ./all-firmware.nix
    ./kernel.nix
  ];
}

--- –ó–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è —Ñ–∞–π–ª: system/hardware/default.nix ---

--- –ù–∞—á–∏–Ω–∞–µ—Ç—Å—è —Ñ–∞–π–ª: system/hardware/kernel.nix ---

{ pkgs, ... }:

{
  boot.kernelPackages = pkgs.linuxPackages_latest;
}

--- –ó–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è —Ñ–∞–π–ª: system/hardware/kernel.nix ---

--- –ù–∞—á–∏–Ω–∞–µ—Ç—Å—è —Ñ–∞–π–ª: system/hardware/nvidia.nix ---

{ pkgs, config, ... }:

{
  services.xserver.videoDrivers = [ "nvidia" ];

  hardware.nvidia = {
    open = true;
    package = config.boot.kernelPackages.nvidiaPackages.stable;
    modesetting.enable = true;
    nvidiaSettings = false;
    powerManagement.enable = false;
  };

  hardware.graphics = {
    enable = true;
    enable32Bit = true;
    extraPackages = with pkgs; [
      vaapiVdpau
      libvdpau
      libva
      vdpauinfo
    ];
  };
}

--- –ó–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è —Ñ–∞–π–ª: system/hardware/nvidia.nix ---

--- –ù–∞—á–∏–Ω–∞–µ—Ç—Å—è —Ñ–∞–π–ª: system/hardware/hardware-configuration.nix ---

# Do not modify this file!  It was generated by ‚Äònixos-generate-config‚Äô
# and may be overwritten by future invocations.  Please make changes
# to /etc/nixos/configuration.nix instead.
{ config, lib, pkgs, modulesPath, ... }:

{
  imports =
    [ (modulesPath + "/installer/scan/not-detected.nix")
    ];

  boot.initrd.availableKernelModules = [ "ahci" "nvme" "xhci_pci" "usb_storage" "usbhid" "sd_mod" ];
  boot.initrd.kernelModules = [ ];
  boot.kernelModules = [ "kvm-amd" ];
  boot.extraModulePackages = [ ];

  fileSystems."/" =
    { device = "/dev/disk/by-uuid/632a8b97-d084-4530-8adb-366997bc8607";
      fsType = "btrfs";
      options = [ "subvol=@" ];
    };

  fileSystems."/boot" =
    { device = "/dev/disk/by-uuid/2FE1-6BEC";
      fsType = "vfat";
      options = [ "fmask=0077" "dmask=0077" ];
    };

  swapDevices = [ ];

  # Enables DHCP on each ethernet and wireless interface. In case of scripted networking
  # (the default) this is the recommended approach. When using systemd-networkd it's
  # still possible to use this option, but it's recommended to use it in conjunction
  # with explicit per-interface declarations with `networking.interfaces.<interface>.useDHCP`.
  networking.useDHCP = lib.mkDefault true;
  # networking.interfaces.enp7s0.useDHCP = lib.mkDefault true;
  # networking.interfaces.wlp6s0.useDHCP = lib.mkDefault true;

  nixpkgs.hostPlatform = lib.mkDefault "x86_64-linux";
  hardware.cpu.amd.updateMicrocode = lib.mkDefault config.hardware.enableRedistributableFirmware;
}

--- –ó–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è —Ñ–∞–π–ª: system/hardware/hardware-configuration.nix ---

--- –ù–∞—á–∏–Ω–∞–µ—Ç—Å—è —Ñ–∞–π–ª: system/modules/README.md ---

# –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è: system/modules

–í —ç—Ç–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ —Å–æ–¥–µ—Ä–∂–∞—Ç—Å—è –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Å–∏—Å—Ç–µ–º–Ω—ã–µ –º–æ–¥—É–ª–∏. –ò—Ö –æ—Å–Ω–æ–≤–Ω–∞—è –∑–∞–¥–∞—á–∞ ‚Äî –∏–Ω–∫–∞–ø—Å—É–ª–∏—Ä–æ–≤–∞—Ç—å —Å–ª–æ–∂–Ω—É—é –∏–ª–∏ –ø–æ–≤—Ç–æ—Ä—è—é—â—É—é—Å—è –ª–æ–≥–∏–∫—É, –∫–æ—Ç–æ—Ä–∞—è –±—ã–ª–∞ –≤—ã–Ω–µ—Å–µ–Ω–∞ –∏–∑ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —Ñ–∞–π–ª–∞ `flake.nix` –∏–ª–∏ –¥—Ä—É–≥–∏—Ö –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è —á–∏—Ç–∞–µ–º–æ—Å—Ç–∏ –∏ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏.

–û–Ω–∏ —á–∞—Å—Ç–æ –æ—Ç–≤–µ—á–∞—é—Ç –∑–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é —Å—Ç–æ—Ä–æ–Ω–Ω–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ (—Ç–∞–∫–∏—Ö –∫–∞–∫ Home Manager) –∏–ª–∏ –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç –∫–∞—Å—Ç–æ–º–Ω—ã–µ –æ–ø—Ü–∏–∏ –¥–ª—è –≤—Å–µ–π —Å–∏—Å—Ç–µ–º—ã.

## –°–æ–¥–µ—Ä–∂–∏–º–æ–µ

- **`home-manager.nix`**: –û—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –ø–æ–ª–Ω—É—é –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫—É Home Manager –Ω–∞ —Å–∏—Å—Ç–µ–º–Ω–æ–º —É—Ä–æ–≤–Ω–µ. –≠—Ç–æ—Ç –º–æ–¥—É–ª—å –±—ã–ª –≤—ã–Ω–µ—Å–µ–Ω –∏–∑ `flake.nix`, —á—Ç–æ–±—ã —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –≥–ª–∞–≤–Ω—ã–π —Ñ–∞–π–ª —Ñ–ª–µ–π–∫–∞ —á–∏—Å—Ç—ã–º –∏ —Å—Ñ–æ–∫—É—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–º –Ω–∞ —Å–±–æ—Ä–∫–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π.

--- –ó–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è —Ñ–∞–π–ª: system/modules/README.md ---

--- –ù–∞—á–∏–Ω–∞–µ—Ç—Å—è —Ñ–∞–π–ª: system/modules/home-manager.nix ---

{ username, stateVersion, inputs, ... }:

{
  imports = [
    inputs.home-manager.nixosModules.home-manager
  ];

  home-manager = {
    useGlobalPkgs = true;
    useUserPackages = true;
    backupFileExtension = "hm-backup";

    extraSpecialArgs = { inherit inputs username stateVersion; };

    users."${username}" = {
      imports = [
        ../../home/home.nix
      ];
    };
  };
}

--- –ó–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è —Ñ–∞–π–ª: system/modules/home-manager.nix ---

--- –ù–∞—á–∏–Ω–∞–µ—Ç—Å—è —Ñ–∞–π–ª: system/overlays/README.md ---

# –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è: system/overlays

–ó–¥–µ—Å—å –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤—Å–µ –æ–≤–µ—Ä–ª–µ–∏ (overlays) –¥–ª—è Nixpkgs. –û–≤–µ—Ä–ª–µ–π ‚Äî —ç—Ç–æ –º–æ—â–Ω—ã–π –º–µ—Ö–∞–Ω–∏–∑–º, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç ¬´–Ω–∞ –ª–µ—Ç—É¬ª –∏–∑–º–µ–Ω—è—Ç—å –Ω–∞–±–æ—Ä –ø–∞–∫–µ—Ç–æ–≤ (`pkgs`), –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –≤–æ –≤—Å–µ–π —Å–∏—Å—Ç–µ–º–µ.

–û—Å–Ω–æ–≤–Ω–æ–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ —ç—Ç–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ ‚Äî —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ –ø–∞–∫–µ—Ç—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, `ax-shell` –∏–∑ —Ñ–ª–µ–π–∫–∞) –∏–ª–∏ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ, –æ—Ç–¥–µ–ª—è—è –ª–æ–≥–∏–∫—É –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏ –Ω–∞–±–æ—Ä–∞ –ø–∞–∫–µ—Ç–æ–≤ –æ—Ç –ª–æ–≥–∏–∫–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —Å–∞–º–æ–π —Å–∏—Å—Ç–µ–º—ã.

## –°–æ–¥–µ—Ä–∂–∏–º–æ–µ

- **`default.nix`**: –ì–ª–∞–≤–Ω—ã–π —Ñ–∞–π–ª-–∞–≥—Ä–µ–≥–∞—Ç–æ—Ä. –û–Ω —Å–æ–±–∏—Ä–∞–µ—Ç –≤—Å–µ –æ–≤–µ—Ä–ª–µ–∏ –∏–∑ —ç—Ç–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ (–∏ –∏–∑ `inputs`) –≤ –µ–¥–∏–Ω—ã–π —Å–ø–∏—Å–æ–∫. –ß—Ç–æ–±—ã –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –Ω–æ–≤—ã–π –æ–≤–µ—Ä–ª–µ–π –¥–ª—è –≤—Å–µ–π —Å–∏—Å—Ç–µ–º—ã, –µ–≥–æ –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å —Å—é–¥–∞.

--- –ó–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è —Ñ–∞–π–ª: system/overlays/README.md ---

--- –ù–∞—á–∏–Ω–∞–µ—Ç—Å—è —Ñ–∞–π–ª: system/overlays/default.nix ---

{ inputs, ... }:

{
  nixpkgs.overlays = [
    inputs.ax-shell.overlays.default
    inputs.awakened-poe-trade.overlays.default
  ];
}

--- –ó–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è —Ñ–∞–π–ª: system/overlays/default.nix ---

